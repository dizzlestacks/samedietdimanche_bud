(globalThis["webpackChunk_canva_web"] = globalThis["webpackChunk_canva_web"] || []).push([[66680],{

/***/ 407202:
function(_, __, __webpack_require__) {__webpack_require__.n_x = __webpack_require__.n;const __web_req__ = __webpack_require__;__web_req__(905716);__web_req__(284924);globalThis._5f74ec40302898c5a55451c9fbd04240 = globalThis._5f74ec40302898c5a55451c9fbd04240 || {};(function(__c) {var $b=__c.$b;var BY=__c.BY;var EY=__c.EY;
var Ahc=function(a,b){b=b.bk;a.bk=new EY((a.viewport.x+a.origin.x)*b.width,(a.viewport.y+a.origin.y)*b.height,b.width*a.viewport.width,b.height*a.viewport.height)},Bhc=function(a,b){const c=b.Ia;var d=b.nC;const e=b.bk;Ahc(a,b);b=new EY(a.viewport.x*d.width,a.viewport.y*d.height,a.viewport.width*d.width,a.viewport.height*d.height);a.scale=new BY(d.width/e.width,d.height/e.height);a.position=new BY(-a.origin.x*e.width,-a.origin.y*e.height);c.setTransform(1,0,0,1,0,0);a.clear&&c.clearRect(b.x,b.y,b.width,
b.height);d=a.clearColor;d.VWa==null&&(d.VWa=`#${(__c.zY(d.r)*256*256*256+__c.zY(d.g)*256*256+__c.zY(d.b)*256+__c.zY(d.a*255)).toString(16).padStart(8,"0")}`);c.fillStyle=d.VWa;c.fillRect(b.x,b.y,b.width,b.height);d=new Path2D;d.rect(b.x,b.y,b.width,b.height);c.clip(d);c.setTransform(1,0,0,1,0,0);c.transform(a.scale.x,0,0,a.scale.y,0,0);c.translate(a.position.x,a.position.y)},Ehc=function(a){return Chc(Dhc,{children:["Mode: ",a.mode,S_("br",{}),"IsLooping: ",a.rV.toString(),S_("br",{}),"Resolution: ",
a.resolution?.toString(),S_("br",{}),"FPS: ",a.rV?a.xzb.toFixed(2):"N/A"]})},T_=function(a){if(a.Ex!=null&&a.nC!=null&&a.gca){var b=a.Ex.canvas,c=a.Ex.container,{resolution:d,QV:e=1}=a.nC;a.bk=new EY(0,0,c.offsetWidth,c.offsetHeight);c=c.getBoundingClientRect();a.qC=new EY(c.x,c.y,c.width,c.height);switch(d){case "matchView":c=new __c.DY(Math.floor(a.bk.width*e),Math.floor(a.bk.height*e));break;case "matchViewPixels":c=new __c.DY(Math.floor(a.bk.width*e*a.M0.window.devicePixelRatio),Math.floor(a.bk.height*
e*a.M0.window.devicePixelRatio));break;default:c=d}var f=a.bk.width/c.width,g=a.bk.height/c.height;b.width=c.width;b.height=c.height;b.style.transformOrigin="top left";b.style.transform=`scale(${f}, ${g})`;a.gca=!1}},U_=function(a){if(a.YOa(!0)&&a.tva==null){a.P$.splice(0,a.P$.length);var b=a.M0.window.requestAnimationFrame,c=d=>{Fhc(a,d?0:void 0,!0);a.render();a.YOa(!1)?a.tva=b(Ghc.wrap(()=>c(!1))):a.tva=void 0};a.tva=b(Ghc.wrap(()=>c(!0)))}},Hhc=function(a,b){__c.x(a.Ex==null,"Cannot set 'HTMLElements' is not undefined, please dispose setHTMLElements");
a.Ex=b;a.gca=!0;T_(a);U_(a);return()=>{a.Ex=void 0}},Ihc=function(a,b){a.nC=b;a.gca=!0;T_(a);U_(a);return()=>{a.nC===b&&(a.nC=void 0)}},Fhc=function(a,b,c){if(a.Ex!=null&&a.nC!=null){var d=a.Ex.canvas,e=a.M0.bCb();a.oIa==null&&(a.oIa=e);var f=c?b!=null?b:Math.min((e-a.oIa)*.001,a.M0.LIb):b||0;T_(a);var g={RF:f,totalTime:a.totalTime,nC:new EY(0,0,d.width,d.height),bk:a.bk,qC:a.qC,cameras:a.cameras};a.cameras.forEach(h=>h.update(g));a.elements.forEach(h=>h.update(g));a.totalTime+=f;c&&(b==null&&a.P$.push(f),
a.oIa=e)}},Ohc=function({type:a,className:b,resolution:c,QV:d=1,mode:e,elements:f,cameras:g,O5b:h,jBa:k,...l}){const m=Jhc(null),n=Jhc(null),p=Khc(()=>new Lhc(a),[a]);$b(()=>p.jta(e),[p,e]);$b(()=>Ihc(p,{QV:d,resolution:c}),[p,d,c]);$b(()=>{if(m.current!=null&&n.current!=null){var q=Hhc(p,{container:m.current,canvas:n.current}),r=window.ResizeObserver!=null?new window.ResizeObserver(()=>{p.gca=!0}):void 0;r?.observe(m.current);return()=>{q();r?.disconnect()}}},[p,m,n]);$b(()=>{f.forEach(q=>p.addElement(q));
return()=>f.forEach(q=>{q=p.elements.indexOf(q);if(q>=0){const r=p.elements[q];p.elements.splice(q,1);r.$ea(void 0)}p.n8()})},[p,f]);$b(()=>{g.forEach(q=>{p.cameras.push(q);U_(p)});return()=>g.forEach(q=>{q=p.cameras.indexOf(q);q>=0&&(p.cameras.splice(q,1),U_(p))})},[p,g]);Mhc(k,()=>({update:q=>p.update(q),render:()=>p.render()}),[p]);return Chc("div",{className:b,dir:"ltr",ref:m,"aria-hidden":l.ariaHidden,role:l.role,"aria-label":l.role!=null?l.ariaLabel:void 0,children:[S_("canvas",{ref:n}),h&&
S_(Nhc,{Osb:p})]})},Phc=function(a,b){for(let c=0;c<a.ZA.length;++c){const d=a.ZA[c];a.uz(d,b);d.Lda.lya||a.NT(d,b)}a.ZA=a.ZA.filter(({Lda:c})=>c.lya)},Qhc=function(a,b){for(let c=0;c<a.UN.length;++c){const d=a.UN[c],e=d.J0a.xCb(d.gw,b.RF);e.type!=="none"&&a.emit(e.type,e.count,d,b);d.gw+=b.RF}a.UN=a.UN.filter(({J0a:c,gw:d})=>!c.iFb(d))},Ghc=__webpack_require__(245307).Fm;var Rhc=__webpack_require__(296713),Dhc=Rhc.Fragment,S_=Rhc.jsx,Chc=Rhc.jsxs;var V_=__webpack_require__(978109),Shc=V_.memo,Thc=V_.useEffect,Mhc=V_.useImperativeHandle,Khc=V_.useMemo,Jhc=V_.useRef,Uhc=V_.useState;var Vhc=__webpack_require__(186901),Whc=Vhc.h5,Xhc=Vhc.sH;__c.Yhc=class{get wMb(){return this.bk}update(a){Ahc(this,a)}constructor(){({origin:d=new BY(0,0),viewport:c=new EY(0,0,1,1),clearColor:b=__c.AY.clear,clear:a=!1}={});var a,b,c,d;this.origin=new BY(0,0);this.viewport=new EY(0,0,1,1);this.clearColor=__c.AY.clear;this.clear=!1;this.scale=new BY(0,0);this.position=new BY(0,0);this.bk=new EY;this.origin=d;this.viewport=c;this.clearColor=b;this.clear=a}};var Nhc=Shc(function({Osb:a}){const [b,c]=Uhc();Thc(()=>{c(Ehc(a));const d=window.setInterval(Ghc.wrap(()=>{c(Ehc(a))}),300);return()=>window.clearInterval(d)},[a]);return S_("div",{className:"bPNiCw",children:S_("div",{className:"hyEEhg",children:b})})});var Zhc=window,Lhc=class{get parent(){}get mode(){return this.lja||"manual"}get rV(){return this.tva!=null}get resolution(){return this.Ex&&new __c.DY(this.Ex.canvas.width,this.Ex.canvas.height)}get xzb(){const a=Math.min(this.P$.length,20),b=1/a;return this.P$.slice(-a).reduce((c,d)=>c+b/d,0)}jta(a){this.lja=a;U_(this)}addElement(a){this.elements.push(a);a.$ea(this);this.n8()}n8(){this.JXa=this.elements.some(a=>a.active);U_(this)}YOa(a){return this.lja!=null&&this.Ex!=null&&this.nC!=null&&(this.lja===
"constant"||this.lja==="dynamic"&&(a||this.JXa))}update(a){Fhc(this,a,!1)}render(){if(this.Ex!=null&&this.nC!=null){T_(this);var a=this.Ex.canvas,b=new EY(0,0,a.width,a.height);if(!(b.width*b.height<=0)){var c=a.getContext(this.type);a=this.Kub;this.M0.Ftb&&a.clearCanvas(c,b);this.cameras.forEach(d=>{c.save();Bhc(d,{Ia:c,nC:b,bk:this.bk,qC:this.qC});const e={Ia:c,camera:d,nC:b,bk:this.bk,qC:this.qC};this.elements.forEach(f=>{c.save();f.render(e);c.restore()});c.restore()})}}}constructor(a){var b=
{Ftb:!0,LIb:.33,bCb:()=>Date.now(),window:Zhc};this.type=a;this.M0=b;this.cameras=[];this.elements=[];this.JXa=!1;this.totalTime=0;this.P$=[];this.gca=!1;this.bk=new EY;this.qC=new EY;switch(this.type){case "2d":this.Kub=new $hc;break;case "webgl":throw Error("Not implemented yet!");default:throw new __c.A(this.type);}}},$hc=class{clearCanvas(a,b){a.clearRect(b.x,b.y,b.width,b.height)}};__c.aic=Shc(a=>S_(Ohc,{...a,type:"2d"}));var bic=class{get active(){return this.JNa}get parent(){return this.jHa}setActive(a){this.JNa!==a&&(this.JNa=a,this.jHa?.n8())}$ea(a){__c.x(a!==this.parent&&(a==null||this.parent==null),"Cannot assign parent when a parent is already assigned.");this.jHa=a;this.jHa?.n8()}n8(){throw Error("CanvasElement does not have children");}constructor(){this.JNa=!0}};var cic=class extends bic{TN(a,b){a={J0a:a,module:b,id:++this.counter,gw:0};this.UN.push(a);this.setActive(!0)}stop(a=!1){this.UN.splice(0,this.UN.length);a&&this.ZA.splice(0,this.ZA.length);this.setActive(a)}update(a){a={RF:a.RF,bk:a.bk,qC:a.qC,cameras:a.cameras,random:()=>this.Rcb.random()};Phc(this,a);Qhc(this,a);this.setActive(this.UN.length>0||this.ZA.length>0)}uz(a,b){const c=a.Lda,d=a.aW;a.module?.uz(b,c,d)}NT(a,b){const c=a.Lda,d=a.aW;a.module?.NT(b,c,d)}emit(a,b,c,d){let e=Math.min(b,this.TV);
if(this.ZA.length+e>this.TV){var f=this.ZA.length+e-this.TV;switch(this.Cbb){case "removeOldest":this.ZA.splice(0,f);break;case "stopNew":e=b-f;if(e<=0)return;break;default:return}}b={...d,RF:0};for(f=0;f<e;f++){const g={position:BY.zero,O0:__c.CY.zero,scale:BY.one,color:__c.AY.white,gw:0,dY:0,velocity:BY.zero,id:++this.counter,m5b:c.id,lya:!0},h=c.module.On({...d,index:f,LSb:a,count:e},g);c.module.uz(b,g,h);this.ZA.push({Lda:g,aW:h,module:c.module})}}render(a){const b={Ia:a.Ia,bk:a.bk,qC:a.qC,random:()=>
Math.random()};this.ZA.forEach(c=>this.zw(c,b))}zw(a,b){const c=a.Lda,d=a.module;a=a.aW;d.zw!=null&&(b.Ia.save(),d.zw(b,{position:c.position,O0:c.O0,scale:c.scale,color:c.color,rsa:!1},c,a),b.Ia.restore())}constructor(a){super();this.ZA=[];this.UN=[];this.counter=0;this.TV=a.TV;this.Cbb=a.Cbb||"stopNew";this.Rcb=a.Rcb||{random:()=>Math.random()};this.setActive(!1)}};__c.W_=class extends cic{static G(a){__c.K(a,{eKa:Xhc.ref})}get active(){return this.eKa}setActive(a){Whc(()=>this.eKa=a);super.setActive(a)}constructor(...a){super(...a);this.eKa=(__c.W_.G(this),!1)}};
}).call(globalThis, globalThis._5f74ec40302898c5a55451c9fbd04240);}

}])
//# sourceMappingURL=sourcemaps/0f23a7ebb19b9546.js.map