(globalThis["webpackChunk_canva_web"] = globalThis["webpackChunk_canva_web"] || []).push([[18411],{

/***/ 452980:
function(_, __, __webpack_require__) {__webpack_require__.n_x = __webpack_require__.n;const __web_req__ = __webpack_require__;__web_req__(905716);globalThis._5f74ec40302898c5a55451c9fbd04240 = globalThis._5f74ec40302898c5a55451c9fbd04240 || {};(function(__c) {var ftc=function(a){Object.keys(a).forEach(b=>a[b]==null&&delete a[b])},gtc=function(a){if(a instanceof __c.bbb){const b=[];a.values.forEach(c=>{b.push(gtc(c))});return b}if(a instanceof __c.dbb){const b={};a.values.forEach(c=>{b[c.name]=gtc(c.value)});return b}return a.value},htc=function(a,b){return{...b,frames:b?.frames?.map(c=>{for(const [d,e]of Object.entries(a.Ysa))c.module=c.module?.replace(e,d),c.abs_path=c.abs_path?.replace(e,d),c.filename=c.filename?.replace(e,d);return c})}},itc=function(a,
b){b.exception&&b.exception.values&&(b.exception={...b.exception,values:b.exception?.values?.map(c=>({...c,...(c.stacktrace&&{stacktrace:htc(a,c.stacktrace)})}))})},jtc=function(a,b){var c=b.request;c!=null&&c.url!=null&&(c.url=a.T4(c.url));itc(a,b);b.tags!=null&&a.BNa(b.tags)},ktc=function(a){if(a instanceof __c.nU)return a;if(a&&typeof a==="object"&&"cause"in a)return ktc(a.cause)},mtc=function(a){return a({iteratee:b=>ltc({frame:b,FSb:"/dist/renderer/"})})},ltc=function({frame:a,FSb:b}){if(a.filename==
null)return a;const c=a.filename.replace(/\\/g,"/").split(b);if(c.length<=1)return a;a.filename="app://"+b+c.pop();return a},otc=function(a){const b=[];ntc(a,(c,d)=>{if(d==="event"){c=c[1];d=c.exception?.values??[];c.message&&b.push(c.message);for(const e of d)e.value&&b.push(e.value)}});return b},ntc=function(a,b){a=a[1];for(const c of a)if(b(c,c[0].type))break},ptc=function(){const a=self,b=c=>{if(typeof c==="object"&&typeof c.getPageLocation==="function")try{const d=c.getPageLocation();return typeof d===
"string"?d:void 0}catch(d){}};return b(a.Android)??b(a.Harmony)},qtc=function(a,b){a!=null&&typeof a!=="string"&&a instanceof __c.nU&&a.requestId!=null&&b("requestId",a.requestId)},ttc=function(a){return(b,c)=>{b.request&&(b.request=rtc(b.request));if(stc(a,b))return null;qtc(c?.originalException,(e,f)=>{b.tags==null&&(b.tags={});b.tags[e]=f});if(a.$a){b.tags==null&&(b.tags={});a:switch(a.$a.status){case 2:var d="OFFLINE";break a;case 1:d="ONLINE";break a;default:d="UNKNOWN"}b.tags.offlineStatus=
d}try{jtc(a.O_,b)}catch(e){a.ac(e)}return a.V7.reduce((e,f)=>f(e,c),b)}},rtc=function(a){if(!a.url)return{headers:{"User-Agent":a?.headers?.["User-Agent"]??""}};const b=/^(\/design\/[a-zA-Z0-9_-]+\/)([a-zA-Z0-9_-]{22})(.*)/,c=new URL(a.url);c.search="";b.test(c.pathname)&&(c.pathname=c.pathname.replace(b,"$1<REDACTED>$3"));return{url:c.toString(),headers:{"User-Agent":a?.headers?.["User-Agent"]??""}}},stc=function(a,b){const c=b.exception&&b.exception.values&&b.exception.values.length>0&&b.exception.values[0],
d=c&&c.stacktrace||void 0,e=d&&d.frames&&d.frames[0]&&d.frames[0].filename,f=b.message||c&&c.value||void 0;return a.V0.some(g=>g({message:f,filename:e,location,tags:b.tags,event:b}))},utc=function(a,b){b instanceof Error?a.vk?.captureException(b):a.vk?.captureMessage(b)},vtc=function(a,b,c,d){return b==null?[Error((c?c+" ":"")+"[null error thrown]")]:typeof b!=="object"?[b.toString()]:(b instanceof AggregateError&&b.errors.length>0?b.errors:[b]).map(e=>{let f;f=e instanceof __c.Bc?new __c.Bc(e.message,
d!==void 0?d:e.sampleRate):e instanceof __c.nU?e:Error(e.message);d===void 0||f instanceof __c.Bc||(f.sampleRate=d);e.stack&&(f.stack=e.stack);e.cause&&(f.cause=e.cause);if(c){if(e.message?.startsWith(c))return a.setTag("prefixCollision","true"),e;e=c+" "+(f.message||"[no message on error]");try{f.message=e}catch(g){if(g instanceof TypeError)return Error(e);throw g;}}return f})},H2=function(a,b,c,d){a.vk==null?(console.error(c),d&&console.log("errorParams",d)):a.vk&&a.vk.withScope(e=>{typeof d===
"string"&&(d={Te:d});const f=vtc(e,c,typeof d==="string"?d:d?.Te,typeof d==="string"?void 0:d?.sampleRate);a.c3a().forEach(([g,h])=>e.setTag(g,h));d!=null&&(d.fingerprint&&e.setFingerprint(d.fingerprint),d.Bva&&e.setTag("userFlow",d.Bva),d.extra&&d.extra.forEach((g,h)=>e.setExtra(h,g)),d.tags&&d.tags.forEach((g,h)=>e.setTag(h,g)));a.componentStack.length>0&&e.setTag("component",a.componentStack.join("."));e.setLevel(b);for(const g of f)utc(a,g)})},wtc=a=>{function b(e,f,g){return e!=null&&typeof e===
"object"&&e.sampleRate!=null&&typeof e.sampleRate==="number"&&e instanceof Error||e!=null&&e!=null&&typeof e==="object"&&"sampleRate"in e&&typeof e.sampleRate==="number"?Math.min(Math.max(0,e.sampleRate),1):g?.tags?.customSampleRate&&(e=parseFloat(String(g?.tags?.customSampleRate)),!isNaN(e)&&typeof e==="number")?(g.tags==null&&(g.tags={}),g.tags["fingerprinting.sampling_overridden"]="true",Math.min(Math.max(0,e),1)):f==="error"||f==="fatal"?c:d}const c=a.Awb,d=a.ywb;return{name:"SamplingIntegration",
processEvent(e,f){if(!(Math.random()<b(f?.originalException,e.level,e)))return null;f={sampleRate:b(f?.originalException,e.level,e)};e.extra=e.extra!=null?{...e.extra,...f}:f;e.tags=e.tags!=null?{...e.tags,...f}:f;return e}}};var xtc=()=>({name:"CustomFingerprintingIntegration",processEvent(a){if(!(a.fingerprint&&a.fingerprint.length>0)){a.tags==null&&(a.tags={});var b=a.message?a.message:a.exception?.values?.[0]?.value?a.exception.values[0].value:void 0;if(b){if(b.match(/HTTP (forbidden|not found) on: (.*)/)){var c=b.match(/HTTP (forbidden|not found) on: ([^?#]*)/);if(c){const [,d,e]=c;c=e.replace(/\/[A-Za-z0-9_~-]{20,}/g,"/<ID>").replace(/\/\d+/g,"/<NUM>").replace(/\/[a-zA-Z0-9_~-]{10,19}/g,"/<ID>");a.fingerprint=[`http-${d===
"forbidden"?"403":"404"}`,c];a.tags["fingerprinting.http_error"]="true";a.tags["fingerprinting.http_error.endpoint"]=c;a.tags.fingerprinting="true";a.tags.customSampleRate="0.01"}}b.match(/OTLPExporter:\s+Concurrency\s+Limit/i)&&(a.fingerprint=["otlp-concurrency-limit"],a.tags["fingerprinting.otlp_exporter_error"]="true",a.tags["fingerprinting.otlp_exporter_error.type"]="concurrency-limit",a.tags.fingerprinting="true",a.tags.customSampleRate="0.01")}}return a}});var ytc=class{T4(a){let b=a;Object.entries(this.Ysa).forEach(([c,d])=>{b=b.split(d).join(c)});return b}BNa(a={}){Object.keys(a).forEach(b=>{const c=a[b];typeof c==="string"&&(a[b]=this.T4(c))})}constructor(){this.Ysa={}}};var ztc=()=>({name:"HostRpcServiceErrorsIntegration",processEvent(a){return a}});var Atc=()=>({name:"HttpServiceErrorsIntegration",processEvent(a,b){if(!b)return a;if(b=ktc(b.originalException))a.tags||(a.tags={}),Object.assign(a.tags,{http_service_error:!0,statusCode:b.statusCode,...(b.requestId?{requestId:b.requestId}:{})}),b.requestUrl&&(a.tags.phase=b.requestUrl.includes("/csrf3/")?"csrf":"request");return a}});var Btc=class{add(a){this.g9=this.aCb(this.g9);this.list[this.g9]=a}find(a){let b=this.g9;do{if(this.list[b]&&a(this.list[b]))return this.list[b];b=this.jCb(b)}while(b!==this.g9)}constructor(){this.Zza=10;this.g9=0;this.aCb=a=>(a+1)%this.Zza;this.jCb=a=>(a+this.Zza-1)%this.Zza;this.list=Array(10)}},Ctc=()=>{function a(e){const f=d.find(k=>b(k.event,e));if(f==null)return!1;const g=__c.vq.now(),h=f.timestamp;return b(e,f.event)&&g-h<2E3}function b(e,f){if(e?.message!==f?.message)return!1;e=e.exception?.values;
f=f.exception?.values;if(e==null||f==null||e.length!==f.length)return!1;for(let g=0;g<e.length;g++)if(e[g].value!==f[g].value||e[g].type!==f[g].type||!c(e[g].stacktrace,f[g].stacktrace))return!1;return!0}function c(e,f){e=e?.frames;f=f?.frames;if(e==null&&f==null)return!0;if(e==null||f==null||e.length!==f.length)return!1;for(let g=0;g<e.length;g++)if(e[g].filename!==f[g].filename||e[g].colno!==f[g].colno||e[g].lineno!==f[g].lineno)return!1;return!0}const d=new Btc;return{name:"NoSuccessiveEventIntegration",
processEvent(e){a(e)?e=null:d.add({event:e,timestamp:__c.vq.now()});return e}}};var Dtc=["Failed to fetch","HTTP unknown error","Non-Error promise rejection captured with value: undefined","SendWithFetch: Failed to export","failed to load image","HTTP service unavailable","Load failed","NetworkError when attempting to fetch resource","NetworkError: A network error occurred","Object captured as promise rejection with keys: reason","Error tracking validation status HTTP unknown error",/Loading CSS chunk \d+ failed/],Etc=a=>{a=otc(a);for(const b of a)if(Dtc.some(c=>{var d=b;return typeof c===
"string"?d.includes(c):c.test(d)}))return!1;return!0};var Ftc=()=>{let a=0;return{name:"PriorUnhandledErrorCountIntegration",processEvent(b){b.tags=b.tags??{};b.tags["prior.unhandled.error.count"]=a;b.exception?.values?.some(c=>c.mechanism?.handled===!1)&&a++;return b}}};var Gtc=a=>{function b(f){try{const g=new URL(f,`${e.protocol}//${e.host}`);if(!["http:","https:"].includes(g.protocol))return"";d.some(h=>g.hostname.includes(h))&&g.pathname.startsWith("/_ajax")||(g.pathname="");g.search="";return f.includes(g.host)?g.toString():g.pathname||"/"}catch(g){return""}}function c(f){const g=f?.url?b(f?.url):void 0,h={};f?.headers?.["User-Agent"]&&(h["User-Agent"]=f?.headers["User-Agent"]);f?.headers?.Referer&&(h.Referer=b(f?.headers?.Referer));return{url:g,headers:h}}
const d=a.allowUrls,e=a.location;return{name:"UrlScrubberIntegration",processEvent(f){f?.breadcrumbs?.map((g,h)=>{if(f?.breadcrumbs){var k=f.breadcrumbs;g.type==="http"&&(g.data=g.data||{},g.data.url=b(g.data?.url??""));k[h]=g}});f.request&&(f.request=c(f.request));return f}}};var Htc=[function(a){if(a=/canvaeditor\/(\d+\.\d+\.\d+)/.exec(a))return{name:"mobile_app_version",value:a[1]}},function(a){if(a=/com.canva.editor\s\(version\/(\d+\.\d+\.\d+)/.exec(a))return{name:"mobile_app_version",value:a[1]}}];var Itc=["TimeoutError","HttpTimeoutError",/^ResizeObserver loop/,/^WHEN_CANCELLED$/,"ChunkLoadError",/^NetworkError: Failed to execute 'importScripts' on 'WorkerGlobalScope':/,/Failed to register a ServiceWorker.*(The document is in an invalid state|An unknown error occurred when fetching the script|Failed to access storage|The URL protocol of the current origin \('null'\) is not supported|Timed out while trying to start the Service Worker)\.$/,/^(Can't find variable: indexedDB|Internal error opening backing store for indexedDB.open.|Encountered full disk while opening backing store for indexedDB.open.|An internal error was encountered in the Indexed Database server)/,
/Non-Error promise rejection captured with value: [Tt]imeout( \(.\))?/,/.*\[ExecError:METHOD_EXECUTION_ERROR:requestV2\].*www\.canva\.com.*/,"variable: _AutofillCallbackHandler","_AutofillCallbackHandler is not defined","Non-Error promise rejection captured with value: Object Not Found Matching Id","Event `CustomEvent` (type=unhandledrejection) captured as promise rejection"],Jtc=class{static create(a){return new Jtc(a)}lia(a){this.V7.push(a)}Ed(a){return new Jtc(this.bootstrap,this.componentStack.concat(a),
this.V0,this.vk,this.O_,this.V7,this.$a,this.gba,void 0,this,!1)}setContext({user:a,locale:b,Szb:c}){const d=this.vk?.getCurrentScope();d&&(a&&(d.setUser(a),d.setTag("isAnonymousUser",!1)),b&&d.setTag("locale",b),c?.forEach((e,f)=>d.setExtra(f,e)))}setTags(a){for(const b of a)this.setTag(b.name,b.value)}setTag(a,b,c="GLOBAL"){if(this.vk!=null){{var d=a.length<=32;const e=b.length<=200;d&&e?d=(0,__c.ya)(!0):(d=(d?"":"Key name length cannot exceed 32 characters.\n")+(e?"":"Key value length cannot exceed 200 characters.\n"),
d=(0,__c.Aa)(Error(d+`Tag: ${a}:${b}`)))}if(d.ok)switch(c){case "GLOBAL":this.vk.setTag(a,b);break;case "SELF":this.r7a.push([a,b]);break;default:throw new __c.A(c);}else utc(this,d.error)}}setExtras(a){for(const b of a)this.setExtra(b.name,b.value)}setExtra(a,b){this.vk!=null&&this.vk.setExtra(a,gtc(b))}o7(a){this.vk!=null&&this.vk?.addBreadcrumb({...a,level:a.level})}c3a(){return[...(this.parent?.c3a()??[]),...this.r7a]}JBa(a,b){H2(this,"fatal",a instanceof Error?a:Error(a),b)}yT(a,b){H2(this,"fatal",
a,b)}error(a,b){H2(this,"error",a instanceof Error?a:Error(a),b)}ac(a,b){H2(this,"error",a,b)}NB(a,b){H2(this,"warning",a instanceof Error?a:Error(a),b)}eI(a,b){H2(this,"warning",a,b)}info(a,b){H2(this,"info",a instanceof Error?a:Error(a),b)}debug(a,b){H2(this,"debug",a instanceof Error?a:Error(a),b)}constructor(a,b=[],c=[],d=self.Sentry,e=new ytc,f=[],g,h,k=ptc(),l,m=!0){this.r7a=[];this.allowUrls="/dist/renderer/ canva.com canva.cn canva.in canva-dev.com canva-dev.in canva-staging.com canva-staging.cn canva-staging.in www.features.canva-internal.com www.features.canva-internal-staging.com canva-apps.com canva-apps.cn canva-apps-dev.com canva-apps-staging.com canva-apps-staging.cn affinity-dev.studio affinity-staging.studio affinity.studio canva-iris.com canva-iris.cn canva-iris-dev.com canva-iris-staging.com canva-iris-staging.cn build-previews.canva-internal.com dashboard.release.canva-internal.com/ access.canva-internal.com/".split(" ");
a?.bootstrap!=null?(this.bootstrap=a.bootstrap,this.componentStack=a.componentStack??[],this.V0=a.V0??[],this.vk=a.vk??self.Sentry,this.O_=a.O_??new ytc,this.V7=a.V7??[],this.$a=a.$a,this.gba=a.gba,k=a.Yhc,this.parent=a.parent,this.flushAtStartup=a.flushAtStartup??!0):(this.bootstrap=a,this.componentStack=b,this.V0=c,this.vk=d,this.O_=e,this.V7=f,this.$a=g,this.gba=h,this.parent=l,this.flushAtStartup=m);if(this.vk){if(this.parent==null){a=this.bootstrap;b=k;k=(c=this.vk?.getClient())&&c.getOptions()||
{};d=c?.getIntegrationByName?.("BatchLoadingIntegration");c=a.sampleRate??1;c=[Ftc(),Ctc(),xtc(),wtc({Awb:c,ywb:a.YJb??c}),ztc(),Atc(),Gtc({allowUrls:this.allowUrls,location})];d&&c.unshift(d);this.vk&&(c.push(this.vk.dedupeIntegration()),c.push(this.vk.extraErrorDataIntegration()),c.push(mtc(this.vk.rewriteFramesIntegration)));this.setTags(this.bootstrap.tags);this.setExtras(this.bootstrap.extra);if(d=typeof navigator!=="undefined"?navigator.userAgent:void 0){e=[];for(var n of Htc)(f=n(d))&&e.push(f);
this.setTags(e)}n=a.bNb;n!==1&&this.setTag("webx",String(n===3));this.setTag("iframe",String(typeof window!=="undefined"&&window.self!==window.top));b&&this.setTag("webview",b);k.beforeSend=ttc(this);n=__c.vc("ca4f3f96",100);n={...k,maxValueLength:1024,dsn:k.dsn||this.bootstrap.dsn,environment:k.environment||this.bootstrap.environment,release:k.release||this.bootstrap.release,tracesSampleRate:0,sampleRate:1,integrations:c,allowUrls:this.allowUrls,transport:this.vk?.makeBrowserOfflineTransport(this.vk.makeFetchTransport),
transportOptions:{dbName:this.componentStack[0]?`canva-${this.componentStack[0]}-offline`:"canva-offline",flushAtStartup:this.flushAtStartup,maxQueueSize:n,shouldStore:Etc},autoSessionTracking:!1,ignoreErrors:Itc};ftc(n);this.vk?.init(n);if(n=this.vk?.getCurrentScope())n.setUser({id:__c.Mo()}),n.setTag("isAnonymousUser",!0),n.setTag("initLocation","error_client")}}else typeof self.suppressSentryInitializationError!=="undefined"&&self.suppressSentryInitializationError===!0||console.error("Sentry can not be found on the global scope.")}};__c.$ba={ABa:function(a){const b=a.bootstrap,c=a.appName;a=a.flushAtStartup;if(!b)return new __c.TI(void 0,c);switch(b.Me){case "CONSOLE":return new __c.TI(void 0,c);case "SENTRY":return Jtc.create({bootstrap:b,componentStack:[c],flushAtStartup:a});default:throw new __c.A(b);}}};
}).call(globalThis, globalThis._5f74ec40302898c5a55451c9fbd04240);}

}])
//# sourceMappingURL=sourcemaps/2deffbca79566c8b.js.map