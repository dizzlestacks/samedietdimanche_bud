(globalThis["webpackChunk_canva_web"] = globalThis["webpackChunk_canva_web"] || []).push([[74910],{

/***/ 101693:
function(_, __, __webpack_require__) {__webpack_require__.n_x = __webpack_require__.n;const __web_req__ = __webpack_require__;__web_req__(905716);globalThis._5f74ec40302898c5a55451c9fbd04240 = globalThis._5f74ec40302898c5a55451c9fbd04240 || {};(function(__c) {var vc=__c.vc;var x=__c.x;
var f3=function(a){const b=Error(a);return c=>{c instanceof Error&&(c.stack==null||c.stack==="")&&(c.stack=b.stack);return c}},Pvc=function(a){return new Promise((b,c)=>{const d=()=>{a.removeEventListener("success",e);a.removeEventListener("error",g)},e=()=>{d();b(a.result)},f=f3("idb promisify_request_events error"),g=()=>{d();c(f(a.error))};a.addEventListener("success",e);a.addEventListener("error",g)})},Qvc=async function(a,b){const c=a.Go(a.cursor.request);a.cursor.continue(b);return c},Svc=function(a){return new Promise((b,
c)=>{const d=f3("idb_transaction error");a.XE.addEventListener("complete",()=>b());a.XE.addEventListener("error",f=>{c(d(f.target?.error||a.XE.error||Error("Unknown error")))});const e=new Rvc;a.XE.addEventListener("abort",()=>{if(a.XE.error instanceof Error){var f=e.cause=a.XE.error;f=[`${f.name}`,`${f.message}`].filter(g=>!!g).join(": ");e.message=`${e.message} (${f})`}c(e)})})},Tvc=function(a,b){x(b.from>=0);x(b.to>=1);x(b.to===b.from+1);const c=a.qR.length&&a.qR[a.qR.length-1];c?x(b.from===c.to):
x(b.from===0);a.qR.push(b);return a},Vvc=async function(a,b=indexedDB){const c=g3()();try{try{return c.r(await c.s(h3.open({name:a.name,version:void 0,rab:(d,e,f,g)=>{x(e.oldVersion===0&&e.newVersion===1,"Received unexpected upgrade");g()},MI:a.MI},b)))}catch(d){if(c.r(),!(d instanceof Uvc))throw d;}}finally{c.s()}},Wvc=async function(a){const b=g3()();try{if(a.HN)return a.HN;const c=h3.km({name:a.options.name,MI:{type:1,Ntb:!0,Otb:!0},Gna:a.Gna});a.HN=a.options.build(c);try{const d=b.r(await b.s(a.HN));
d.addEventListener("close",()=>{a.HN=void 0});d.addEventListener("versionchange",()=>{a.HN=void 0});return d}catch(d){throw b.r(),a.HN=void 0,d;}}finally{b.s()}},Yvc=function(a){return a.name==="QuotaExceededError"||a instanceof DOMException&&a.code===22?!0:Xvc.some(b=>b.test(a.message))},$vc=function(a){return!self.indexedDB||a instanceof Rvc||a instanceof DOMException&&["AbortError","TransactionInactiveError"].includes(a.name)?!0:Zvc.some(b=>b.test(a.message))},cwc=function(a){a=a instanceof Error?
a:Error(String(a));return a instanceof awc||a instanceof bwc?a:Yvc(a)?new bwc(a):$vc(a)?new awc(a):a},dwc=function(a,{spanName:b}){if(!(a.lb==null||Math.random()>.01))return a.lb.Qi(b,{attrs:new Map([["sample_rate_override",1]]),timeout:3E5})},ewc=function(a,b){return{key:a,record:b}},gwc=async function(a,b){const c=g3()();try{if(c.r(await c.s(a.get(b)))==null)throw new fwc(b);}finally{c.s()}},i3=function(a){if(a==null)throw new hwc("null",0);if(typeof a!=="object"||Array.isArray(a))throw new hwc(iwc(a),
JSON.stringify(a).length);if(!("key"in a&&"record"in a)||typeof a.key!=="string"||typeof a.record!=="object"||a.record==null){const b={};for(const [c,d]of Object.entries(a))b[c]=iwc(d);throw new hwc(JSON.stringify(b),JSON.stringify(a).length);}return{key:a.key,value:a.record}},iwc=function(a){return a==null?"null":typeof a==="object"?Array.isArray(a)?"array":"object":typeof a},mwc=function({ro:a,serializer:b,Y9b:c={},lb:d,Gna:e}){return new jwc(a,b,new kwc(new lwc({name:a,build:f=>Tvc(f,{from:0,to:1,
Kib:g=>{g=g.createObjectStore(a,{keyPath:"key"});for(const [h,{keyPath:k,...l}]of Object.entries(c))g.createIndex(h,`${"record"}.${k}`,l)}}).build({Xpa:1,xlb:1})},e),d))},nwc=function(){return mwc({ro:"config",serializer:{serialize:a=>a,wa:a=>a}})},g3=__webpack_require__(75402)._;var j3=__webpack_require__(245307).Fm;var k3=class{async continue(a){const b=g3()();try{const c=b.r(await b.s(Qvc(this,a)));return c==null?void 0:new k3(c)}finally{b.s()}}async update(a){a=this.cursor.update(a);return this.Go(a)}async delete(){const a=this.cursor.delete();return this.Go(a)}constructor(a){this.cursor=a;this.Go=Pvc}},owc=class extends k3{async continue(a){const b=g3()();try{const c=b.r(await b.s(Qvc(this,a)));return c==null?void 0:new owc(c)}finally{b.s()}}get value(){return this.cursor.value}constructor(a){super(a);this.cursor=
a}};var pwc=class{async get(a){a=this.index.get(a);return this.Go(a)}async getAll(a,b){a=this.index.getAll(a,b);return this.Go(a)}async getAllKeys(a,b){a=this.index.getAllKeys(a,b);return this.Go(a)}async count(a){a=this.index.count(a);return this.Go(a)}async openCursor(a,b){const c=g3()();try{const d=this.index.openCursor(a,b),e=c.r(await c.s(this.Go(d)));return e!=null?new owc(e):void 0}finally{c.s()}}async openKeyCursor(a,b){const c=g3()();try{const d=this.index.openKeyCursor(a,b),e=c.r(await c.s(this.Go(d)));
return e!=null?new k3(e):void 0}finally{c.s()}}constructor(a){this.index=a;this.Go=Pvc}};var qwc=class{index(a){return new pwc(this.store.index(a))}async put(a,b){a=this.store.put(a,b);return this.Go(a)}async get(a){a=this.store.get(a);return this.Go(a)}async delete(a){a=this.store.delete(a);return this.Go(a)}async clear(){const a=this.store.clear();return this.Go(a)}async getAll(a,b){a=this.store.getAll(a,b);return this.Go(a)}async getAllKeys(a,b){a=this.store.getAllKeys(a,b);return this.Go(a)}async count(a){a=this.store.count(a);return this.Go(a)}async openCursor(a,b){const c=g3()();
try{const d=this.store.openCursor(a,b),e=c.r(await c.s(this.Go(d)));return e!=null?new owc(e):void 0}finally{c.s()}}async openKeyCursor(a,b){const c=g3()();try{const d=this.store.openKeyCursor(a,b),e=c.r(await c.s(this.Go(d)));return e!=null?new k3(e):void 0}finally{c.s()}}createIndex(a,b,c){return this.store.createIndex(a,b,c)}deleteIndex(a){return this.store.deleteIndex(a)}constructor(a){this.store=a;this.Go=Pvc}};var rwc=class{objectStore(a){a=this.XE.objectStore(a);return new qwc(a)}abort(){this.XE.abort()}commit(){this.XE.commit?.()}get error(){return this.XE.error}constructor(a){this.XE=a;this.nmb=Svc(this)}},Rvc=class extends Error{constructor(){super("Transaction was aborted")}};var h3=class{static km(a){return new swc(a.name,a.MI,a.Gna??indexedDB)}static open({name:a,version:b,rab:c,MI:d},e=indexedDB){return new Promise((f,g)=>{try{const h=e.open(a,b);let k,l=!1;c&&h.addEventListener("upgradeneeded",n=>{const p=h.result,q=__c.z(h.transaction);if(l)q.abort(),p.close();else{k=new h3(p);var r=new rwc(q);r.nmb.catch(j3.wrap(t=>{if(!(t instanceof Rvc))throw t;}));try{c(k,n,r,()=>{throw new Uvc;})}catch(t){q.abort(),p.close(),g(t)}}});switch(d.type){case 0:d.zKb&&h.addEventListener("blocked",
d.zKb);h.addEventListener("success",()=>{f(k??new h3(h.result))});break;case 1:h.addEventListener("blocked",()=>{l=!0;g(new twc)});h.addEventListener("success",()=>{const n=h.result;l?n.close():(n.addEventListener("versionchange",p=>{(d.Ntb&&p.newVersion==null||d.Otb&&p.newVersion!=null)&&n.close()}),f(k??new h3(n)))});break;default:throw new __c.A(d);}const m=f3("idb_database open error");h.addEventListener("error",()=>{g(m(h.error))})}catch(h){g(h)}})}transaction(a,b){return new rwc(this.db.transaction(a,
b))}createObjectStore(a,b){return new qwc(this.db.createObjectStore(a,b))}deleteObjectStore(a){this.db.deleteObjectStore(a)}get objectStoreNames(){return this.db.objectStoreNames}get version(){return this.db.version}close(){this.db.close()}addEventListener(a,b,c){this.db.addEventListener(a,b,c)}removeEventListener(a,b,c){this.db.removeEventListener(a,b,c)}static delete({name:a},b=indexedDB){return new Promise((c,d)=>{const e=f3("idb_database delete error"),f=b.deleteDatabase(a);f.addEventListener("blocked",
()=>d(new uwc));f.addEventListener("error",()=>{d(e(f.error))});f.addEventListener("success",()=>c())})}constructor(a){this.db=a}},swc=class{async build(a){const b=g3()();try{this.Wla&&(x(a.Xpa===void 0||a.Xpa>=this.Wla.to),x(a?.xlb>=this.Wla.to));x(this.qR.length>0);const c=a?.Xpa??this.Wla?.to??1,d=this.qR[this.qR.length-1].to;a=a?.xlb??d;__c.u(a<=d);const e=b.r(await b.s(Vvc({name:this.name,MI:this.MI},this.r4a)));if(e!=null){if(e.version>d)throw e.close(),new vwc(e.version,d);if(e.version>=a)return e;
e.close()}try{return b.r(await b.s(this.openDatabase(a)))}catch(f){b.r();if(f instanceof twc){const g=b.r(await b.s(this.openDatabase(void 0)));if(g.version<c)throw g.close(),new wwc(g.version,c);return g}throw f;}}finally{b.s()}}openDatabase(a){return h3.open({name:this.name,version:a,rab:(b,c,d)=>{if(c.newVersion!=null){var e=c.oldVersion;for(const f of this.qR){if(e===c.newVersion)break;if(!(e>=f.to)){if(f.from!==e)throw new xwc(e);if(f.to>c.newVersion)throw new xwc(c.newVersion);f.Kib(b,d);e=
f.to}}if(e!==c.newVersion)throw new xwc(c.newVersion);}},MI:this.MI},this.r4a)}constructor(a,b,c){this.name=a;this.MI=b;this.r4a=c;this.qR=[];this.Wla=void 0}},uwc=class extends Error{constructor(){super("Deletion blocked due to open connections")}},twc=class extends Error{constructor(){super("Operation blocked due to open connections")}},wwc=class extends Error{constructor(a,b){super(`Current DB version ${a} is less than minimum allowed ${b}`);this.currentVersion=a;this.Xpa=b}},vwc=class extends Error{constructor(a,
b){super(`Current DB version ${a} is greater than maximum allowed ${b}`);this.currentVersion=a}},xwc=class extends Error{constructor(a){super(`Database version ${a} is no longer supported and cannot be upgraded`);this.version=a}},Uvc=class extends Error{constructor(){super("AbortError")}};var lwc=class{async zE(a,b,c){const d=g3()();try{const e=d.r(await d.s(Wvc(this))).transaction(a,b),f=e.nmb;try{const [g]=d.r(await d.s(Promise.all([(async()=>{const h=g3()();try{const k=h.r(await h.s(c(e)));e.commit();return k}finally{h.s()}})(),f])));return g}catch(g){d.r();try{e.abort()}catch(h){if(!(h instanceof Error&&h.name==="InvalidStateError"))throw h;}d.r(await d.s(f.catch(j3.wrap(()=>{}))));throw g;}finally{}}finally{d.s()}}close(){this.HN?.catch(()=>{}).then(a=>a?.close());this.HN=void 0}constructor(a,
b=globalThis.indexedDB){this.options=a;this.Gna=b}};var bwc=class extends Error{constructor(a){super("Quota exceeded");this.cause=a}},awc=class extends __c.Bc{constructor(a){super("IndexedDb Database Error",0);this.cause=a}},ywc=class extends Error{constructor(a){super("Failed to deserialize stored data");this.cause=a}};var Xvc=[/Encountered full disk while opening backing store for indexedDB.open./i,/Failed to PutOrAdd in database because not enough space for domain/i],Zvc=[/(transaction|operation) was aborted/i,/The database connection is closing/i,/connection to indexed database server lost/i,/internal error/i,/the transaction is inactive or finished/i,/unable to open database file on disk/i,/without an in-progress transaction/i,/The user denied permission to access the database\./];var kwc=class{async zE({storeName:a,mode:b,methodName:c},d){const e=g3()();try{const f=dwc(this,{spanName:`idb_transaction_executor.run_in_transaction.${a}.${c}`});self.clearTimeout(this.pYa);try{return e.r(await e.s(this.q4a.zE(a,b,d)))}catch(g){e.r();const h=cwc(g);h instanceof awc&&(f?.setAttribute("error",g instanceof Error?g.message:String(g)),f?.end("error"));throw h;}finally{f?.end("ok"),self.clearTimeout(this.pYa),this.pYa=self.setTimeout(j3.wrap(()=>this.q4a.close()),2500)}}finally{e.s()}}constructor(a,
b){this.q4a=a;this.lb=b}};var jwc=class{async put(a,b){const c=g3()();try{const d=ewc(a,this.serializer.serialize(b));c.r(await c.s(this.XJ.zE({storeName:this.ro,mode:"readwrite",methodName:"put"},async e=>{const f=g3()();try{f.r(await f.s(e.objectStore(this.ro).put(d)))}finally{f.s()}})));vc("7741e20a",!1)&&c.r(await c.s(gwc(this,a)))}finally{c.s()}}async get(a){const b=g3()();try{const c=b.r(await b.s(this.XJ.zE({storeName:this.ro,mode:"readonly",methodName:"get"},async d=>d.objectStore(this.ro).get(a))));return c==null?
void 0:this.wa(i3(c).value)}finally{b.s()}}async delete(a){return this.XJ.zE({storeName:this.ro,mode:"readwrite",methodName:"delete"},async b=>{const c=g3()();try{const d=b.objectStore(this.ro);Array.isArray(a)?c.r(await c.s(Promise.all(a.map(e=>d.delete(e))))):c.r(await c.s(d.delete(a)))}finally{c.s()}})}async count(){return this.XJ.zE({storeName:this.ro,mode:"readonly",methodName:"count"},async a=>a.objectStore(this.ro).count())}async update(a,b){const c=g3()();try{const d=[];c.r(await c.s(this.XJ.zE({storeName:this.ro,
mode:"readwrite",methodName:"update"},async e=>{const f=g3()();try{const g=e.objectStore(this.ro),h=Array.isArray(a)?a:[a];f.r(await f.s(Promise.all(h.map(async k=>{const l=g3()();try{const m=l.r(await l.s(g.get(k)));let n;m!=null&&(n={value:this.wa(i3(m).value)});const p=b(n,k);p!=null?(l.r(await l.s(g.put(ewc(k,this.serializer.serialize(p.value))))),vc("7741e20a",!1)&&d.push({key:k,value:p.value})):l.r(await l.s(g.delete(k)))}finally{l.s()}}))))}finally{f.s()}})));vc("7741e20a",!1)&&c.r(await c.s(Promise.all(d.map(({key:e})=>
gwc(this,e)))))}finally{c.s()}}async updateAll(a,b,c){const d=g3()();try{const e=[];d.r(await d.s(this.XJ.zE({storeName:this.ro,mode:"readwrite",methodName:"updateAll"},async f=>{const g=g3()();try{const h=f.objectStore(this.ro),k=typeof c==="string"?h.index(c):h,l=g.r(await g.s(k.getAll(b)));g.r(await g.s(Promise.all(l.map(async m=>{const n=g3()();try{const {key:p,value:q}=i3(m),r=a({value:this.wa(q)},p);r!=null?(n.r(await n.s(h.put(ewc(p,this.serializer.serialize(r.value))))),vc("7741e20a",!1)&&
e.push({key:p,value:r.value})):n.r(await n.s(h.delete(p)))}finally{n.s()}}))))}finally{g.s()}})));vc("7741e20a",!1)&&d.r(await d.s(Promise.all(e.map(({key:f})=>gwc(this,f)))))}finally{d.s()}}async getAll(a,b){const c=g3()();try{const d=c.r(await c.s(this.XJ.zE({storeName:this.ro,mode:"readonly",methodName:"getAll"},async g=>{const h=g3()();try{const k=g.objectStore(this.ro),l=typeof b==="string"?k.index(b):k;try{return h.r(await h.s(l.getAll(a))).map(m=>(0,__c.ya)(i3(m)))}catch{h.r();const m=h.r(await h.s(l.getAllKeys(a)));
return Promise.all(m.map(async n=>{const p=g3()();try{try{const q=p.r(await p.s(l.get(n)));return(0,__c.ya)(i3(q))}catch(q){return p.r(),(0,__c.Aa)({key:n,error:q instanceof Error?q:Error(String(q))})}}finally{p.s()}}))}}finally{h.s()}}))),e=[],f=[];for(const g of d){if(!g.ok){f.push(g.error);continue}const h=g.value.key,k=g.value.value;try{e.push({key:h,M:this.wa(k)})}catch(l){f.push({key:h,error:l instanceof Error?l:Error(String(l))})}}return{items:e,errors:f}}finally{c.s()}}async getAllKeys(){return this.XJ.zE({storeName:this.ro,
mode:"readonly",methodName:"getAllKeys"},async a=>{const b=g3()();try{const c=a.objectStore(this.ro);return b.r(await b.s(c.getAllKeys())).map(d=>String(d))||[]}finally{b.s()}})}async clear(){return this.XJ.zE({storeName:this.ro,mode:"readwrite",methodName:"clear"},async a=>a.objectStore(this.ro).clear())}wa(a){try{return this.serializer.wa(a)}catch(b){throw new ywc(b instanceof Error?b:Error(String(b)));}}constructor(a,b,c){this.ro=a;this.serializer=b;this.XJ=c}},hwc=class extends Error{constructor(a,
b){super(`Unexpected record received: ${a}. Record length: ${b}.`)}},fwc=class extends Error{constructor(a){super(`Write verification failed for key "${a}". ${"Record was not found after write operation."}`)}};__c.Qba={b9b:async function(a){return Promise.race([(async()=>{const b=g3()();try{try{return b.r(await b.s(nwc().get("userAgent")))}catch(c){b.r(),a.ac(c)}}finally{b.s()}})(),__c.zo(1E4).then(j3.wrap(()=>{}))])},ARb:async function(){const a=g3()();try{a.r(await a.s(nwc().put("userAgent",navigator.userAgent)))}finally{a.s()}}};
}).call(globalThis, globalThis._5f74ec40302898c5a55451c9fbd04240);}

}])
//# sourceMappingURL=sourcemaps/7607ae6c95c75ea5.js.map