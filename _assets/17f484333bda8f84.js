(globalThis["webpackChunk_canva_web"] = globalThis["webpackChunk_canva_web"] || []).push([[48581],{

/***/ 988510:
function(_, __, __webpack_require__) {__webpack_require__.n_x = __webpack_require__.n;const __web_req__ = __webpack_require__;__web_req__(905716);globalThis._5f74ec40302898c5a55451c9fbd04240 = globalThis._5f74ec40302898c5a55451c9fbd04240 || {};(function(__c) {var suc,tuc,uuc,wuc,vuc,xuc,zuc,yuc,Auc,Buc,L2,Duc,Euc;suc=function(a,b,c){var d=(void 0).mHb;const {gH:e,Bbb:f}=__c.yv(a,b,c);a=e(d,{gia:!1});return a.result!=="success"?{success:!1,value:d}:{success:!0,value:__c.jKa(a.zT,f,__c.Pz)}};
tuc=function(a,b){a=__c.ov(a);switch(a.type){case 0:var c=a.Rl+(a.BH?0:(void 0).BP);const d=a.yl+(a.DF?0:(void 0).Uca);return c<0||d<0||c>=b.layout.rows.count()||d>=b.layout.cols.count()?"#REF!":[a.DF?"$":"",__c.nv(d),a.BH?"$":"",String(c+1)].join("");case 1:return c=a.yl+(a.DF?0:(void 0).Uca),0<=c&&c<b.layout.cols.count()?`${a.DF?"$":""}${__c.nv(c)}`:"#REF!";case 2:return c=a.Rl+(a.BH?0:(void 0).BP),0<=c&&c<b.layout.rows.count()?`${a.BH?"$":""}${String(c+1)}`:"#REF!";case 3:return a.name;default:throw new __c.A(a);
}};uuc=function({data:a,url:b}){try{const c=JSON.stringify(a,void 0,2);return{extra:new Map([["spans",c.slice(0,15500)],["url",b]]),tags:new Map([["telemetry.export.beacon.over_64_kB",String(c.length>64E3)]])}}catch{return{tags:new Map([["telemetry.error.serialisation_error","true"]])}}};wuc=function(a,b){vuc(a,b,()=>{const c=a.Cja.get(b.spanContext().spanId)||[];for(const d of c)wuc(a,d)})};
vuc=function(a,b,c){var d=b.attrs.get("parent_relative_start_ms")??b.duration,e=typeof d==="number"?` - ${Math.round(d)}ms`:"",f=(d=b.parentSpanId!=null)?`${b.Ow==="event"?"[ChildEvent]":"[ChildSpan]"}: `:"[OpenTelemetryClient]: ";const g=__c.CI(b)?"User Operation - ":"";e=`${f}${g}${b.name}${e}`;d&&!a.UIa.has(b.parentSpanId)?console.group(e):console.groupCollapsed(e);console.groupCollapsed("Attributes");d={name:b.name,ilc:`${b.duration}ms`,...Object.fromEntries(b.attrs.entries())};e={};for(const h of Object.keys(d))f=
d[h],e[h]=f instanceof Object?JSON.stringify(f):f;console.table(e);console.groupEnd();c?.();console.groupEnd();a.UIa.add(b.spanContext().spanId)};xuc=function(a){switch(a){case "unset":return 0;case "ok":return 1;case "error":return 2;default:return 0}};zuc=function(a){const b=[];for(const [c,d]of a.entries())d!=null&&b.push({key:c,value:yuc(d)});return b};
yuc=function(a){const b=typeof a;return b==="string"?{stringValue:a}:b==="number"?Number.isInteger(a)?{intValue:a}:{doubleValue:a}:b==="boolean"?{boolValue:a}:a instanceof Uint8Array?{bytesValue:a}:Array.isArray(a)?{arrayValue:{values:a.map(yuc)}}:b==="object"&&a!=null?{kvlistValue:{values:Object.entries(a).map(([c,d])=>({key:c,value:yuc(d)}))}}:{}};Auc=function(a){const b=new Map;for(const c of a)a=b.get(c.oy),a||(a=[],b.set(c.oy,a)),a.push(c);return b};
Buc=function(a,b){b=b(a)/1E3;a=Math.trunc(b);b=Number((b-a).toFixed(9))*1E9;let [c,d]=[a,b];d>1E9&&(d-=1E9,c+=1);return c*1E9+d};
__c.Cuc=function(a,b){if(a.length===0)return{resourceSpans:[]};const c=[];a=Auc(a);for(const [d,e]of a)if(e.length>0){a={attributes:zuc(e[0].vA),droppedAttributesCount:0};const f=[{scope:{name:d},spans:e.map(g=>{var h=g.spanContext();const k=Buc(g.startTime,b),l=Buc(g.endTime??g.startTime,b);var m=g.attrs;if(g.Ow==="event"){var n=g.attrs.get("parent_start");n!=null&&typeof n==="number"&&(m=new Map([...m.entries(),["parent_start",Buc(n,b)]]))}n=h.traceId;h=h.spanId;var p=g.parentSpanId,q=g.name;m=
zuc(m);var r={code:xuc(g.status)};g=g.links;const t=[];for(const v of g)t.push({spanId:v.Hjb.spanId,traceId:v.Hjb.traceId,droppedAttributesCount:0});return{traceId:n,spanId:h,parentSpanId:p,name:q,kind:3,startTimeUnixNano:k,endTimeUnixNano:l,attributes:m,droppedAttributesCount:0,events:[],droppedEventsCount:0,status:r,links:t,droppedLinksCount:0}})}];c.push({resource:a,scopeSpans:f})}return{resourceSpans:c}};L2=function(a,b){a.Fcb.unshift(b);return a};
Duc=function(a,b,c,d=!1){b.aborted||d||!b.kK()||(c.push(b),b.$S.forEach(e=>c.push(e)));for(const e of b.l_)Duc(a,e,c,d||b.aborted);b.parentSpan=void 0;b.l_.length=0};Euc=function(a,b){a.S$a.push(b)};__c.PI.prototype.F$=__c.ca(42,async function(){const a=(0,__c.xc)()();try{for(const b of this.Aq)b&&a.r(await a.s(__c.S9a(this,b)));this.Aq=[]}finally{a.s()}});
__c.Tz.prototype.E7=__c.ca(40,function(a){var b=suc(this.Kh.iO,this.Kh.nR,this.Kh.cO);if(b.success){b=this.gH(b.value);__c.xu(b.result==="success");var c=__c.JKa(b.zT,d=>{switch(d.type){case 0:return tuc(d.text,a);case 1:const [e,f]=d.text.split(":").map(h=>h.trim());d=tuc(e,a);const g=tuc(f,a);return d==="#REF!"||g==="#REF!"?"#REF!":[d,g].join(":");default:throw new __c.A(d);}});b=this.gH(c);__c.xu(b.result==="success");return{type:1,mHb:__c.kKa(c,this.Kh.iO)}}});var M2=__webpack_require__(75402)._;var Fuc=__webpack_require__(245307).Fm;var N2=class extends Error{constructor(a,b){super(a);this.ea=b;this.name="TelemetryExportError";Object.setPrototypeOf(this,N2.prototype)}},Guc=class extends __c.Bc{constructor(a,b,c){super(a,b);this.ea=c;this.name="SampledTracingExportError";Object.setPrototypeOf(this,Guc.prototype)}};var Huc=({navigator:a,url:b})=>c=>{var d=JSON.stringify(c);d=new Blob([d],{type:"application/json"});try{if(!a.sendBeacon(b,d))throw new N2("createSendWithBeacon: Failed to enqueue spans in Beacon",uuc({data:c,url:b}));}catch(e){throw new N2(e instanceof Error?e.message:String(e),e instanceof N2?e.ea:uuc({data:c,url:b}));}};var Iuc=({mUb:a,url:b,errorSampleRate:c,fetch:d=self.fetch})=>async e=>{const f=M2()();try{const g=new Request(b,{method:"POST",body:JSON.stringify(e),headers:{Accept:"application/json","Content-Type":"application/json"},priority:"low",signal:AbortSignal.timeout?.(a)});try{const h=f.r(await f.s(d(g)));if(h.status>299||h.status<200)throw c!=null?new Guc(`SendWithFetch: Failed to export (status: ${h.status})`,c):new N2(`SendWithFetch: Failed to export (status: ${h.status})`);}catch(h){f.r();const k=
h instanceof Error&&h.name==="AbortError"?`SendWithFetch: Fetch request timeout: ${a}ms`:"SendWithFetch: Failed to export";throw c!=null?new Guc(k,c):new N2(k);}}finally{f.s()}};var Juc=class{q1a(a){var b=[];for(const c of a)c.parentSpanId&&!this.UIa.has(c.parentSpanId)?(a=this.Cja.get(c.parentSpanId)||[],a.push(c),this.Cja.set(c.parentSpanId,a)):b.push(c);for(const c of b)b=c.spanContext().spanId,wuc(this,c),this.Cja.delete(b)}async flush(){}constructor(){this.Cja=new Map;this.UIa=new Set}};var Luc=class{async q1a(a){if(a.length!==0)if(this.Zja.size<this.WAa){try{this.Nga.c_();var b=__c.Cuc(a,c=>this.Nga.E7(c))}catch(c){this.K.ac(c,{Te:"OTLPSpanAdapter: Unable to convert spans",extra:new Map(__c.HI(a))});return}try{const c=this.send(b);this.Zja.add(c);c.catch(Fuc.wrap(d=>{this.K.ac(d)})).finally(Fuc.wrap(()=>{this.Zja.delete(c)}))}catch(c){this.K.ac(c)}}else this.K.ac(new N2("OTLPExporter: Concurrency Limit Reached"))}async flush(){const a=M2()();try{a.r(await a.s(Promise.all(this.Zja)))}finally{a.s()}}constructor(a,
b,c){var d=new __c.Kuc;this.config=a;this.K=b;this.Nga=d;this.send=c;this.Zja=new Set;this.WAa=a.WAa??Infinity}};var Muc=class{static create(){return new Muc}build(a){return this.Fcb.reduce((b,c)=>c(b),{Iu:()=>{},process:b=>a.q1a(b),flush:()=>a.flush()})}constructor(){this.Fcb=[]}};var Nuc=class{Iu(){}process(a){for(const b of a)b.kK()&&(this.buffer.push(b),this.buffer.length>=this.config.Dpa&&this.F$());this.buffer.length>0&&this.timer==null&&(this.timer=setTimeout(Fuc.wrap(()=>this.F$()),this.config.Epa))}async flush(){const a=M2()();try{this.F$(),a.r(await a.s(this.vn.flush()))}finally{a.s()}}F$(){try{this.vn.process(this.buffer)}catch(a){this.K.ac(a,{Te:`Failed to export the span buffer from ${Nuc.name}`,extra:new Map([...__c.HI(this.buffer),["maxBatchSize",this.config.Dpa],
["maxBatchingTimeMs",this.config.Epa]])})}this.buffer=[];this.timer!=null&&clearTimeout(this.timer);this.timer=void 0}constructor(a,b,c){this.vn=a;this.config=b;this.K=c;this.buffer=[]}};var Puc=class{Iu(a){const b=a.spanContext().traceId,c=this.Zua.get(b);c!=null?(c.XK+=1,a.parentSpan===void 0&&(c.root=a)):this.Zua.set(b,{XK:1,root:a});this.vn.Iu(a)}process(a){for(const c of a){a=c.spanContext().traceId;var b=this.Zua.get(a);b!=null&&(--b.XK,b.XK===0&&(b=this.zOb.process(b),this.vn.process(b),this.Zua.delete(a)))}}flush(){return this.vn.flush()}constructor(a){var b=new Ouc;this.vn=a;this.zOb=b;this.Zua=new Map}},Ouc=class{process(a){const b=[];Duc(this,a.root,b);return b}};__c.Kuc=class{E7(a){return this.Dkb+(a-this.Rbb)}c_(){var a=Date.now(),b=performance.now();Math.abs(this.E7(b)-a)<this.threshold||(this.Dkb=a,this.Rbb=b)}constructor(){var a=Date.now(),b=performance.now();this.Dkb=a;this.Rbb=b;this.threshold=1E4}};var Quc;
Quc=class{Opa(){this.isInitialized||typeof document==="undefined"||typeof window==="undefined"||(this.isVisible=document.visibilityState==="visible",this.TOa(),this.isInitialized=!0)}TOa(){window.addEventListener("pagehide",()=>{this.nW()});document.addEventListener("visibilitychange",()=>{document.visibilityState==="hidden"?this.nW():document.visibilityState!=="visible"||this.isVisible||document.visibilityState!=="visible"||(this.isVisible=!0)})}nW(){this.isVisible&&(this.isVisible=!1,this.S$a.forEach(a=>a()))}constructor(){this.isVisible=
!0;this.S$a=[];this.isInitialized=!1;this.Opa()}};
__c.m$a={HEb:async function({bootstrap:a,K:b}){const c=M2()();try{const d=Muc.create();if(a.Ozb){const [{Rnb:k},{DTa:l}]=c.r(await c.s(Promise.all([__webpack_require__.me(649183).then(()=>__c.Ruc),__webpack_require__.me(77057).then(()=>__c.ruc)])));L2(L2(d,m=>new l(b,m)),m=>new k(b,m))}else if(a.Me==="CONSOLE"){const {DTa:k}=c.r(await c.s(__webpack_require__.me(77057).then(()=>__c.ruc)));L2(d,l=>new k(b,l))}L2(d,k=>new Puc(k));if(a.Me==="CONSOLE")return d.build(new Juc);const e=Huc({url:a.endpoint,
navigator}),f=Iuc({url:a.endpoint,mUb:3E4,errorSampleRate:.001,fetch:self.fetch}),g=new Quc,h=L2(d,k=>new Nuc(k,{Dpa:a.Dpa??60,Epa:a.Epa??3E3},b)).build(new Luc({url:a.endpoint,WAa:a.Mzb??20},b,async k=>{g.Opa();if(g.isVisible)return f(k);try{e(k)}catch(l){return l instanceof N2?b.eI(Error(l.message),{...l.ea,sampleRate:.001}):b.ac(l),f(k)}}));Euc(g,()=>{h.flush()});return h}finally{c.s()}}};
}).call(globalThis, globalThis._5f74ec40302898c5a55451c9fbd04240);}

}])
//# sourceMappingURL=sourcemaps/17f484333bda8f84.js.map