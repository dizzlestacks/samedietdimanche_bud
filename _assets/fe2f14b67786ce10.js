(globalThis["webpackChunk_canva_web"] = globalThis["webpackChunk_canva_web"] || []).push([[9677],{

/***/ 820890:
function(_, __, __webpack_require__) {__webpack_require__.n_x = __webpack_require__.n;const __web_req__ = __webpack_require__;__web_req__(905716);__web_req__(416459);__web_req__(79993);globalThis._5f74ec40302898c5a55451c9fbd04240 = globalThis._5f74ec40302898c5a55451c9fbd04240 || {};(function(__c) {var K=__c.K;var Ur=__c.Ur;var J=__c.J;var LZ;var KZ;var GZ;var rb=__c.rb;var EZ;var z=__c.z;var BZ;var xZ;var zZ;var ya=__c.ya;var A=__c.A;var Jdc,pZ,qZ,rZ,Ldc,Mdc,Ndc,Tdc,Wdc,Xdc,Ydc,Zdc,$dc,aec,bec,cec,gec,hec,mec,qec,tec,xec,Dec,Eec,zec,Fec,Gec,Jec,Kec,Nec,Oec,Sec,Vec,Yec,Zec,cfc,Odc,Kdc,dfc,UZ,VZ;Jdc=function(a){return __c.op({selected_items:a.jt,total_items:a.Ww,orientation:a.orientation,start_value:a.Yta,end_value:a.Qla})};
pZ=function(a){const b=a.YBa;b!==0&&(a.result+="|=d"+(b>1?b:"")+"|",a.YBa=0)};qZ=function(a){const b=a.FJa;b!==0&&(a.result+="|=n"+(b>1?b:"")+"|",a.FJa=0)};rZ=function(a){const b=a.dKa;b!==0&&(a.result+="|=o"+(b>1?b:"")+"|",a.dKa=0)};__c.sZ=function(a,b){return b.reduce((c,d)=>{d=a.get(d);d!=null&&c.push(d);return c},[])};__c.tZ=function(a,b,{minLength:c,cr:d}){return e=>new Kdc(a,b,e,{minLength:c,cr:d})};
__c.uZ=function(a){var b={filter_by:!0};const c={};for(const d of Object.keys(a.gg)){if(!(d in b))continue;const e=d;c[e]=a.gg[e]}return new __c.eZ(c,a.config,a.Yc)};Ldc=function({padding:a,length:b}){return b===__c.Lcc.length&&a===__c.Lcc.padding};
__c.vZ=function(a){switch(a.type){case "STACKED_COLUMN":case "STACKED_ROW":case "STACKED_AREA":return a.Fd;case "GROUPED_COLUMN":case "GROUPED_ROW":case "PIE":case "DONUT":case "LINE":case "SCATTERPLOT":case "BUBBLEPLOT":case "DOTPLOT":case "GROUPED_DOTPLOT":case "PACKED_CIRCLES":case "TREEMAP":case "BAR_RACE":case "HISTOGRAM":case "RADAR":case "POPULATION_PYRAMID":case "FUNNEL":case "DUMBBELL":case "LOLLIPOP":case "SUNBURST":case "TIME_SERIES":case "PROGRESS":case "PICTOGRAM":break;default:throw new A(a);
}};Mdc=function(a,b){let c=0;const d=__c.qb(e=>{const f=e.LP,g=c;c=f.jt;f.jt!==g&&a?.Wr({...b,...e})},1E3);return e=>{d(e)}};__c.wZ=function(a){if(a?.type==="live-sheets")return"live_linked_sheet"};
Ndc=function(a,b){if(b==="")return ya("");switch(a.kind){case "string":return ya(b);case "number":const [c,d]=a.format;a=Number(b);return Number.isFinite(a)?ya(__c.Su(a,c,d)):(0,__c.Aa)();case "date":return b=new Date(Number(b)),Number.isFinite(b.valueOf())?ya(__c.udc(b,a.format)):(0,__c.Aa)();default:throw new A(a);}};xZ=__c.xZ=function(a,b){return b};__c.yZ=function(a){const {xa:b,a:c,b:d}=__c.vr(a);return{gb:b,Ya:c,Ua:d}};
__c.Pdc=function(a,b,c){switch(b.type){case "single":return zZ(a).map(c,{data:d=>d.data,meta:({meta:d})=>({...d,color:__c.$Y(b.color)}),Rb:xZ}).map("rowMeta",{data:({data:d})=>d.map(e=>({...e,color:void 0})),meta:d=>d.meta,Rb:xZ}).build();case "columns":return zZ(a).map(c,{data:d=>d.data,meta:({meta:d})=>({...d,color:__c.$Y(b.Ba.get(d.id))}),Rb:xZ}).map("rowMeta",{data:({data:d})=>d.map(e=>({...e,color:void 0})),meta:d=>d.meta,Rb:xZ}).build();case "rows":return zZ(a).map(c,{data:d=>d.data,meta:({meta:d})=>
({...d,color:void 0}),Rb:xZ}).map("rowMeta",{data:({data:d})=>d.map(e=>({...e,color:__c.$Y(b.Ba.get(e.index.toString()))})),meta:d=>d.meta,Rb:xZ}).build();case "groups":return zZ(__c.AZ(a).map("rowMeta",{data:d=>{d=BZ(d.rowMeta,0);var e=b.Ba,f=e.get;var g=(new Odc(d.Sp)).encode();return[{...d,color:__c.$Y(f.call(e,g))}]},meta:d=>d.gf(e=>e.meta),Rb:xZ}).build()).map(c,{data:d=>d.data,meta:({meta:d})=>({...d,color:void 0}),Rb:xZ}).build();default:throw new A(b);}};
__c.Qdc=function(a,b){return zZ(a).map(b,{data:({data:c,meta:d})=>{const e=a.cols.rowMeta.get(0)?.data;return c.map((f,g)=>{g=z(d.color??e?.[g]?.color);return{...f,color:g,...__c.yZ(g)}})},meta:c=>c.meta,Rb:xZ}).build()};BZ=__c.BZ=function(a,b){return z(a.get(b))};__c.CZ=function(a,b){return Array.from(a.map.keys(),b)};__c.DZ=function(a,b){return Array.from(a.map.entries(),b)};zZ=__c.zZ=function(a){return new Rdc(a)};__c.AZ=function(a){return new Sdc(a)};
__c.Udc=function(a,b,c,d){if(a.Nb&&a.Oe){var e=__c.dd(a.Nb,(g,h)=>new EZ({data:()=>{if(!a.Nb||!a.Oe)return[];const k=c.some(n=>n===h)&&b()==="COUNT";var l=a.Nb[h];const m=__c.cZ(a.Oe[h]);if(l==null||Array.isArray(l)&&l.length===0){if(!k||h==="size_by")return[];l=Tdc(a);return[Array.from({length:l},()=>({HB:"",Nl:void 0,LJ:void 0}))]}if(!Array.isArray(l)){if(m.has(l.id)&&!k)return[];const n=__c.aZ(z(l.Ma)),p=__c.iZ(n,l),q=__c.jZ(p);return[l.values.toArray().map((r,t)=>({HB:r.value,Nl:p.values[t],LJ:q[t]}))]}return l.map(n=>
{if(!m.has(n.id)||k){var p=__c.aZ(z(n.Ma)),q=__c.iZ(p,n),r=__c.jZ(q);return n.values.toArray().map((t,v)=>({HB:t.value,Nl:q.values[v],LJ:r[v]}))}}).filter(rb)},meta:()=>{if(!a.Nb||!a.Oe)return[];var k=a.Nb[h];const l=__c.cZ(a.Oe[h]),m=c.some(n=>n===h)&&b()==="COUNT";if(k==null||Array.isArray(k)&&k.length===0){if(!m||h==="size_by")return[];k=d();const n=__c.LP.create({id:"count",S:void 0,label:k,Ma:{...__c.FZ[1],format:__c.rV(__c.FZ[0])},values:[]});return[{Nb:n,label:k,id:n.id}]}return Array.isArray(k)?
k.map(n=>{if(!l.has(n.id)||m)return{Nb:n,label:n.label??"",id:n.id}}).filter(rb):l.has(k.id)&&!m?[]:[{Nb:k,label:k.label??"",id:k.id}]},Rb:xZ})),f=new EZ({data:()=>{if(!a.Nb)return[];const g=Tdc(a);return[Array.from({length:g},(h,k)=>({index:k}))]},meta:()=>[{}],Rb:xZ});return new GZ({...e,rowMeta:f})}};Tdc=function(a){if(!a.Nb)return 0;for(const b of Object.keys(a.Nb)){const c=a.Nb[b];if(Array.isArray(c)){if(c.length)return c[0].values.count()}else if(c!=null)return c.values.count()}return 0};
__c.HZ=function(a,b){return zZ(a).map(b,{data:c=>c.data,meta:({meta:c})=>{const d=__c.aZ(z(BZ(a.cols[b],0).meta.Nb.Ma));return{...c,format:d.kind==="number"?e=>__c.vdc(d,e):String,KJ:d&&d.kind==="number"?__c.wdc(d):String}},Rb:xZ}).build()};__c.Vdc=function(a,b){return __c.AZ(a).map("rowMeta",{data:c=>{const d=BZ(c.rowMeta,0);c=b(c);return[{...d,Sp:c}]},meta:c=>[BZ(c,0).meta],Rb:xZ}).build()};
Wdc=function({filters:a,gap:b}){if(a.length===0)return null;let c=0;return IZ("g",{children:a.map(({filter:d,height:e},f)=>{if(e===0)return null;d=IZ("g",{transform:`translate(0, ${c})`,children:d},f);c+=e+b;return d})})};Xdc=function({store:a}){return JZ(()=>{const b=a.filters.map(c=>{const d=a.FBb(c);return{filter:IZ(d,{}),height:a.W2a(c)}});return IZ(Wdc,{filters:b,gap:a.Ulb})})};
KZ=__c.KZ=function(a){const b=Math.max(...a.map(({actualBoundingBoxAscent:c})=>c));a=Math.max(...a.map(({actualBoundingBoxDescent:c})=>c));return{UG:b,Mga:b+a}};Ydc=function(a,b){b=b.D;return a.La.measureText({text:" - ",fontFamily:b.rg,fontSize:b.fontSize,fontWeight:b.fontWeight})};Zdc=function(a,b,c){b=b.D;return a.La.Bh({wq:c,fontFamily:b.rg,fontSize:b.fontSize,fontWeight:b.fontWeight})};
$dc=function(a,b,c,d){b=b.D;return a.La.uf({text:c,fontFamily:b.rg,fontSize:b.fontSize,fontWeight:b.fontWeight,maxWidth:d})};aec=function(a,b,c,d){b=b.D;return a.La.Kq({wq:c,fontFamily:b.rg,fontSize:b.fontSize,fontWeight:b.fontWeight,maxWidth:d})};bec=function(a,b,c,d,e){const f=Ydc(a,b),g=f.width*3,h=(e-g)/2;d=d.find(p=>p<h);const [k,l]=aec(a,b,c,d?e-d-g:h);a=k.width+g+l.width;b=k.text+" - "+l.text;const {UG:m,Mga:n}=KZ([k,l,f]);return{dca:a,cca:n,DV:m,label:b}};
cec=function(a,b){return Math.min(Math.max(a,.75),b)};gec=function({Fb:a,La:b,...c}){const d=new dec(c),e=new eec(b);b=LZ(()=>e.height(d));const f=LZ(()=>e.uya(d));return{uha:JZ(()=>IZ(fec,{uya:f.get(),Fb:a})),height:b}};hec=function(a){return Math.floor(a)===a?0:a.toString().split(".")[1].length};__c.iec=function(a,b){const c=Math.pow(10,hec(a)),d=Math.pow(10,hec(b));return a*c*(b*d)/(c*d)};
__c.jec=function(a,b){if(b==="any"||b<=0)return a;if(b===0)throw Error("Division by zero is not allowed");var c=a-Math.floor(a/b)*b;return a-c+(c>=b/2?b:0)};__c.kec=function(a,b,c,d,e){if(b>=c)return d;a=Math.min(Math.max(a,b),c);e=e.get()-d;return d+(a-b)/(c-b)*(e-d)};__c.lec=function(a,b,c,d){d=d.get()*Math.PI/180;return((b-(a.left+a.width/2))*Math.cos(d)+(c-(a.top+a.height/2))*Math.sin(d))/Math.sqrt(Math.pow(a.width,2)+Math.pow(a.height,2))+.5};
mec=function(a,b,c){return a<=b?"lower":a>=c?"upper":a<b+(c-b)/2?"lower":"upper"};
qec=function({min:a,max:b,step:c,rotation:d,qk:e,Ck:f,MV:g,nY:h,bz:k,width:l,La:m,D:n,Yb:p,Fb:q,CDa:r}){const t=new nec({bz:k,width:l,qk:e,Ck:f,MV:g,nY:h,min:a,max:b,rotation:d,step:c,D:n}),v=new oec(p),w=LZ(()=>v.Ufa(t,"lower")),y=LZ(()=>v.Ufa(t,"upper")),{uha:B,height:C}=r?gec({width:l,zK:w,eM:y,La:m,D:n,Fb:q}):{uha:null,height:LZ(()=>0)},D=LZ(()=>v.height(t,C)),F=__c.SY(function(){return{left:0,top:r?D.get()-k.get():0}});return{Wwa:JZ(L=>{const M=L.zr,N=L.Ar,P=L.onDragStart,S=L.onDragEnd,Q=MZ((na,
ua)=>{v.UK(t,na,ua,{zr:M,Ar:N,onDragStart:P})},[P,M,N]),W=MZ((na,ua)=>v.pW(t,na,ua,{zr:M,Ar:N}),[M,N]),Z=MZ(()=>v.WK(t,S),[S]),aa=MZ(na=>v.VK(t,na),[]),ka=MZ(na=>v.qW(t,na,{zr:M,Ar:N}),[M,N]);return NZ("g",{children:[B&&IZ(B,{}),IZ(F,{children:IZ(pec,{...L,zK:w.get(),eM:y.get(),min:a.get(),max:b.get(),step:c.get(),width:l,height:k.get(),Bl:t.Bl,UK:Q,pW:W,WK:Z,VK:aa,qW:ka})})]})}),height:D}};
tec=function({control:a,D:b,Yb:c,Fb:d,La:e,Jm:f,config:g,Eo:h,Ve:k,width:l}){const m=new rec(f,g,h),n=new sec(b,k),p=y=>n.zr(m,y),q=y=>n.Ar(m,y);f=LZ(()=>b.fontSize*2);const r=LZ(()=>b.fontSize*.8),t=LZ(()=>b.fontSize*.06),{Wwa:v,height:w}=qec({min:LZ(()=>m.min??0),max:LZ(()=>m.max??0),step:LZ(()=>m.step),rotation:LZ(()=>b.rotation),bz:f,width:l??LZ(()=>b.Xd),qk:LZ(()=>m.qk??0),Ck:LZ(()=>m.Ck??0),MV:LZ(()=>m.MV??""),nY:LZ(()=>m.nY??""),La:e,D:b,Yb:c,Fb:d,CDa:!0});return{Bha:JZ(function(){return m.visible?
IZ(v,{zr:p,Ar:q,fillColor:z(a.Kf.color),oz:r.get(),hR:"#E8EAED",dva:"#FFFFFF",Vfa:"#FFFFFF",Wfa:"#1C213080",Qib:t.get(),ariaLabel:J("DHkbSw")}):null}),height:LZ(()=>m.visible?w.get():0),hma:m,ht:()=>n.ht(m),Fe:()=>!0,ee:y=>n.ee(m,y)}};
__c.OZ=function({icon:a,ariaLabel:b,fill:c,height:d,width:e,hFb:f=!1,onClick:g,zna:h,BGa:k=1,fillOpacity:l,tabIndex:m=0}){const n=k*24;return NZ(__c.ZY,{role:"button",tabIndex:m,ariaLabel:b,onClick:g,children:[f?IZ(uec,{fill:c,fillOpacity:l??1,width:e}):IZ(vec,{fill:c,fillOpacity:l??1,height:d,width:e}),IZ("g",{transform:`translate(${(e-n)/2}, ${(d-n)/2}) scale(${k}) `,style:{...h,pointerEvents:"none"},children:IZ(a,{})})]})};
__c.PZ=function(a){return wec(({className:b})=>IZ("g",{dangerouslySetInnerHTML:{__html:a},className:b}))};xec=function(a){__c.u(a.length>0,"zero candidate combinations received");a=a.map(({yd:b,backgroundColor:c},d)=>({yd:b,backgroundColor:c,Mub:Math.abs(__c.DB(b,c)),index:d}));return __c.Wo(a,b=>b.Mub)};__c.yec=function(a,b){var c=b.map(({yd:d,backgroundColor:e,Pt:f})=>{e?(e=__c.Gr(e,f),e=__c.AB(e,a)):e=a;return{yd:d,backgroundColor:e}});({index:c}=xec(c));return b[c]};
Dec=function({width:a,height:b,nGa:c,hasNext:d,Sqa:e,Mqa:f,buttons:g,offset:h,iu:k,fillColor:l,dqa:m,padding:n,KSa:p}){const q=QZ(),r=QZ(),t=QZ(),v=QZ();a-=.5;const w=b-.5,{OWa:y,Nib:B}=zec(l,1),{OWa:C,Nib:D}=zec(l,.05);l=w/a<.5?w:a*.35;const F=Math.min(w/a*2,.5);return NZ(Aec,{children:[NZ("defs",{children:[IZ("filter",{id:q,x:"0",y:"0",filterUnits:"userSpaceOnUse",children:IZ("feDropShadow",{dx:"1",dy:"2",stdDeviation:"2",floodColor:"rgba(37, 39, 37, 0.3)"})}),NZ("linearGradient",{id:t,children:[IZ("stop",
{stopColor:"#FFFFFF",offset:"0%",stopOpacity:c?0:1}),IZ("stop",{stopColor:"#FFFFFF",offset:`${100*F}%`}),IZ("stop",{stopColor:"#FFFFFF",offset:`${100*(1-F)}%`}),IZ("stop",{stopColor:"#FFFFFF",offset:"100%",stopOpacity:d?0:1})]}),IZ("mask",{id:r,children:IZ("rect",{width:a,height:w,rx:w/2,ry:w/2,x:.25,y:.25,fill:`url(#${t})`})}),IZ("clipPath",{id:v,children:IZ("rect",{width:a,height:w,rx:w/2,ry:w/2,x:.25,y:.25,fill:`url(#${t})`,mask:`url(#${r})`})})]}),IZ("rect",{width:a,height:w,rx:w/2,ry:w/2,x:.25,
y:.25,fill:"#FFFFFF",stroke:"#bfbfbf",filter:`url(#${q})`,strokeWidth:.5}),IZ("g",{clipPath:`url(#${v})`,mask:`url(#${r})`,children:IZ("g",{style:k?void 0:{transition:"transform 1s"},transform:`translate(${n+.25-h} ${n+.25})`,children:g.map((L,M)=>IZ(p,{...L,height:w-2*n,BDb:D,ADb:C,GQb:B,DQb:y},M))})}),c&&IZ("g",{transform:`translate(0 ${(b-w)/2})`,children:IZ(__c.OZ,{height:w,width:l,fill:"#FFFFFF",fillOpacity:0,icon:Bec,zna:{color:"#1D1F26"},BGa:m,onClick:e,ariaLabel:J("sogysQ"),tabIndex:-1})}),
d&&IZ("g",{transform:`translate(${a-l} ${(b-w)/2})`,children:IZ(__c.OZ,{height:w,width:l,fill:"#FFFFFF",fillOpacity:0,icon:Cec,zna:{color:"#1D1F26"},BGa:m,onClick:f,ariaLabel:J("8TgGyw"),tabIndex:-1})})]})};
Eec=function({x:a,DV:b,width:c,height:d,label:e,value:f,selected:g,DQb:h,GQb:k,ADb:l,BDb:m,onClick:n,onFocus:p,Fb:q,padding:r}){const [t,v]=RZ("none"),w=MZ(()=>{v("none");n(f)},[n,v,f]),y=MZ(N=>{N.key!=="Enter"&&N.code!=="Space"||n(f)},[n,f]),B=MZ(()=>{Ur.pr&&v("auto");p(a)},[a,p,v]),C=MZ(()=>v("none"),[v]),[D,F]=RZ(!1),L=MZ(()=>{F(!0)},[F]),M=MZ(()=>{F(!1)},[F]);g||(D?(h=l,k=m):(h="#FFFFFF",k="#0F1015"));return IZ(__c.ZY,{role:"button",onClick:w,ariaLabel:e,children:NZ("g",{tabIndex:0,transform:`translate(${a} 0)`,
onKeyDown:y,onFocus:B,onBlur:C,onMouseOver:L,onMouseOut:M,style:{outline:`${t} -webkit-focus-ring-color`},children:[IZ("rect",{x:"0",y:"0",rx:d/2,ry:d/2,width:c,height:d,fill:h,fillOpacity:g||D?1:0}),IZ("g",{transform:`translate(0 ${r})`,children:IZ(q,{x:c/2,y:b,fill:k,textAnchor:"middle",dominantBaseline:"alphabetic",children:e})})]})})};
zec=function(a,b){a=__c.Gr(__c.zr(a),b);a=__c.AB(a,__c.Jr("#FFFFFF"));b=[{yd:__c.Jr("#0F1015"),backgroundColor:a,Pt:1},{yd:__c.Jr("#FFFFFF"),backgroundColor:a,Pt:1}];({yd:b}=__c.yec(a,b));return{OWa:__c.eva(a),Nib:b.Tr()}};Fec=function(a,b){var c=b.D;const d=c.rg,e=c.fontSize;c=c.fontWeight;return a.Bh({wq:b.options.map(f=>f.label),fontFamily:d,fontSize:e,fontWeight:c})};
Gec=function(a,b,c){const d=a.mr;var e=a.QI;const f=(b.length-1)*a.Eza;a=2*d*b.length;const g=b.reduce((h,k)=>h+k,0);e=a+g+f+2*e;return e<c?(c-(e-a))/(b.length*2):d};
Jec=function(a){const {Bh:b,Fb:c,UL:d,...e}=a,f=new Hec(e),g=new Iec(b),h=LZ(()=>g.buttons(f)),k=LZ(()=>g.height(f)),l=v=>g.N$a(f,h.get(),v),m=v=>IZ(Eec,{Fb:c,...v,onClick:d,onFocus:l,padding:f.mr}),n=LZ(()=>g.mB(f,h.get())),p=LZ(()=>g.nGa(f,h.get())),q=LZ(()=>g.hasNext(f,h.get())),r=()=>g.Sqa(f,h.get()),t=()=>g.Mqa(f,h.get());return{LSa:JZ(v=>IZ(Dec,{...v,buttons:h.get(),width:f.width,height:k.get(),nGa:p.get(),hasNext:q.get(),offset:n.get(),Sqa:r,Mqa:t,iu:__c.Kv(),dqa:f.dqa,padding:f.QI,KSa:m})),
height:k}};Kec=function(a,b){switch(a){case "buttons":return b==="column"?"col_button":"row_button";case "dropdown":return b==="column"?"col_dropdown":"row_dropdown";default:throw new A(a);}};
Nec=function({control:a,D:b,Jm:c,Fb:d,Bh:e,config:f,Eo:g,Ve:h,width:k}){const l=new Lec(c,f,g),m=new Mec(b,h);c=n=>m.UL(l,n,a.type);switch(a.type){case "buttons":f=LZ(()=>l.values);g=LZ(()=>m.options(l));const {LSa:n,height:p}=Jec({type:"multi",values:f,options:g,UL:c,Bh:e,D:b,Fb:d,width:k??LZ(()=>b.Xd)});return{Bha:JZ(function(){if(l.visible)return IZ(n,{fillColor:z(a.Kf.color)})}),height:LZ(()=>l.visible?p.get():0),hma:l,ht:()=>m.ht(l),Fe:q=>m.Fe(l,q),ee:q=>m.ee(l,q)};case "dropdown":throw Error("Dropdown component is unimplemented");
default:throw new A(a);}};Oec=function(a,b){a=a.options;if(!(!a.get().length||b<0||b>=a.get().length))return a.get()[b].value};
Sec=function({options:a,rotation:b,bz:c,width:d,qk:e,Ck:f,La:g,D:h,Yb:k,Fb:l,CDa:m}){const n=new Pec({options:a,rotation:b,bz:c,width:d,qk:e,Ck:f,D:h}),p=new Qec(k),q=LZ(()=>p.Ufa(n,"lower")),r=LZ(()=>p.Ufa(n,"upper")),{uha:t,height:v}=m?gec({width:d,zK:q,eM:r,La:g,D:h,Fb:l}):{uha:void 0,height:LZ(()=>0)},w=LZ(()=>p.height(n,v)),y=__c.SY(function(){return{left:0,top:m?w.get()-c.get():0}});return{Wwa:JZ(B=>{const C=B.zr,D=B.Ar,F=B.onDragStart,L=B.onDragEnd,M=MZ((W,Z)=>{p.UK(n,W,Z,{zr:C,Ar:D,onDragStart:F})},
[F,C,D]),N=MZ((W,Z)=>p.pW(n,W,Z,{zr:C,Ar:D}),[C,D]),P=MZ(()=>p.WK(n,L),[L]),S=MZ(W=>p.VK(n,W),[]),Q=MZ(W=>p.qW(n,W,{zr:C,Ar:D}),[C,D]);return NZ("g",{children:[t&&IZ(t,{}),IZ(y,{children:IZ(Rec,{...B,jJb:0,HD:n.HD,zK:q.get(),eM:r.get(),options:a,width:d,height:c.get(),Bl:n.Bl,UK:M,pW:N,WK:P,VK:S,qW:Q})})]})}),height:w}};
Vec=function({control:a,D:b,Yb:c,Fb:d,La:e,Jm:f,config:g,Eo:h,Ve:k,width:l}){const m=new Tec(f,g,h),n=new Uec(b,k);f=LZ(()=>n.options(m));g=LZ(()=>z(m.qk));h=LZ(()=>z(m.Ck));const p=y=>n.zr(m,y),q=y=>n.Ar(m,y);k=LZ(()=>b.fontSize*2);const r=LZ(()=>b.fontSize*.8),t=LZ(()=>b.fontSize*.06),{Wwa:v,height:w}=Sec({options:f,rotation:LZ(()=>b.rotation),bz:k,width:l??LZ(()=>b.Xd),qk:g,Ck:h,La:e,D:b,Yb:c,Fb:d,CDa:!0});return{Bha:JZ(function(){return m.visible?IZ(v,{zr:p,Ar:q,fillColor:z(a.Kf.color),oz:r.get(),
hR:"#E8EAED",dva:"#FFFFFF",Vfa:"#FFFFFF",Wfa:"#1C213080",Qib:t.get(),ariaLabel:J("XKR/qg")}):null}),height:LZ(()=>m.visible?w.get():0),hma:m,ht:()=>n.ht(m),Fe:y=>n.Fe(m,y),ee:y=>n.ee(m,y)}};
Yec=function({control:a,D:b,Jm:c,Fb:d,Bh:e,config:f,Eo:g,Ve:h,width:k}){const l=new Wec(c,f,g),m=new Xec(b,h);c=n=>m.UL(l,n,a.type);switch(a.type){case "buttons":f=LZ(()=>l.value);g=LZ(()=>m.options(l));const {LSa:n,height:p}=Jec({type:"single",value:f,options:g,UL:c,Bh:e,D:b,Fb:d,width:k??LZ(()=>b.Xd)});return{Bha:JZ(function(){if(l.visible)return IZ(n,{fillColor:z(a.Kf.color)})}),height:LZ(()=>l.visible?p.get():0),hma:l,ht:()=>m.ht(l),Fe:q=>m.Fe(l,q),ee:q=>m.ee(l,q)};case "dropdown":throw Error("Dropdown component is unimplemented");
default:throw new A(a);}};
Zec=function(a,b,c){const d=a.D;var e=a.Yb;const f=a.Fb,g=a.La,h=a.Eo,k=a.Ve;a=a.width;switch(b.type){case "single":switch(e=b.control.ref,e.type){case "buttons":return Yec({control:e,D:d,Jm:c,Fb:f,Bh:g.Bh,config:b,Eo:h,Ve:k,width:a});case "dropdown":throw Error(`Unimplemented control type: ${e.type}`);default:throw new A(e);}case "multi":switch(e=b.control.ref,e.type){case "buttons":return Nec({control:e,D:d,Jm:c,Fb:f,Bh:g.Bh,config:b,Eo:h,Ve:k,width:a});case "dropdown":throw Error(`Unimplemented control type: ${e.type}`);default:throw new A(e);
}case "range":const l=b.control.ref;switch(l.type){case "slider":return Vec({control:l,D:d,Yb:e,Fb:f,La:g,Jm:c,config:b,Eo:h,Ve:k,width:a});default:throw new A(l.type);}default:throw new A(b);}};
__c.SZ=function({D:a,tF:b,Yb:c,Fb:d,La:e,bindings:f,er:g,bw:h,Yp:k,Ve:l,width:m}){const n=y=>h({Oe:f.hM(a),values:f.RFa(a),Nb:y,config:a.rb}),p=y=>k({Oe:f.hM(a),values:f.RFa(a),Nb:f.VJ(a),index:y,config:a.rb}),q=c?.filters;var r=()=>new $ec(a,b,c,q!=null,d,e,f,g,n,p,l,m);const t=q?q.Kc(a.rb,r):r(),v=new afc;r=Xdc({store:t});const w=LZ(()=>t.height);return{dF:r,B$:t,dG:w,Xmc:()=>LZ(()=>0),Fe:y=>v.Fe(t,y),ee:y=>v.ee(t,y)}};
__c.TZ=function(a,b,c,d){return(new bfc(a.LEa(e=>c(BZ(e.rowMeta,0).index)))).filter(d,({meta:e})=>b(e.Nb)).build()};cfc={De:"chart_filter_interacted",Rf(a){return __c.op({option_type:a.sW,action:a.action,chart_id:a.Xt,chart_type:a.Zm,chart_type_variant:a.zF,option_value_before:Jdc(a.tW),option_value_after:Jdc(a.LP),editing_context:a.Sd==null?void 0:__c.pp(a.Sd),data_source:a.Rd})}};__c.zV.prototype.Wr=__c.ca(30,function(a){this.rc.track(cfc,a)});
Odc=class{encode(){if(this.n1a)throw Error("already ran");const a=this.key;this.n1a=!0;const b=Math.min(a.length,250);for(let c=0;c<b;c++){const d=a[c];switch(d){case ".":++this.dKa;pZ(this);qZ(this);break;case "\x00":++this.FJa;rZ(this);pZ(this);break;case "$":++this.YBa;rZ(this);qZ(this);break;default:rZ(this),pZ(this),qZ(this),this.result+=d}}rZ(this);pZ(this);qZ(this);return("_"+this.result).slice(0,254)}constructor(a){this.key=a;this.n1a=!1;this.FJa=this.YBa=this.dKa=0;this.result=""}};
Kdc=class{get kind(){return"many"}map(a,b,c){a=this.get(a).map(b);return c==null?a:a.filter(c)}FJ(a,b){this.get(a).forEach(c=>b(c))}Nb(a,b){a=this.get(a);return __c.sZ(b,a)}values(a,b){var c=this.get(a);c=__c.sZ(b,c);const d=__c.cZ(this.validate(a,b));return c.reduce((e,f)=>{const g=z(f.format);d.has(f.EL)||(f=__c.iZ(g,f.Nb),e.push(f));return e},[])}validate(a,b){var c=__c.sZ(b,this.get(a)),d=c.filter(({format:e})=>e==null||!this.PL(e.kind));c=this.minLength(a)-c.length;d=[c>0&&{kind:1,Qlb:c},d.length>
0&&{kind:3,Y4:d.map(e=>e.EL)}].filter(e=>!!e);return __c.bZ(d.length===0?ya():(0,__c.Aa)(d),this.cr?.(a,b))}PL(a){return this.n9.has(a)}xAa(a,b){let c=!1;const d=[];this.FJ(a,e=>{b.has(e)?d.push(e):c=!0});c&&this.set(a,d)}constructor(a,b,c,{minLength:d,cr:e}){this.get=a;this.set=b;this.minLength=d;this.n9=new Set(c);this.cr=e}};__c.FZ=[{prefix:void 0,suffix:void 0,Ph:0,locale:void 0,Gd:!1,tQ:!1,decimal:void 0,minimumIntegerDigits:1,percent:!1,currency:void 0},{Fl:void 0,Dg:void 0}];dfc=__webpack_require__(186901);
LZ=__c.LZ=dfc.EW;UZ=dfc.sH;VZ=dfc.XI;var WZ=__webpack_require__(536618).iB;var efc=__webpack_require__(296713),Aec=efc.Fragment,IZ=efc.jsx,NZ=efc.jsxs;var JZ=__webpack_require__(270531).PA;var XZ=__webpack_require__(978109),wec=XZ.memo,MZ=XZ.useCallback,QZ=XZ.useId,YZ=XZ.useRef,RZ=XZ.useState;var ffc=__webpack_require__(245307).Fm;var bfc,Sdc,Rdc;__c.ZZ=class{static G(a){K(a,{map:LZ,size:LZ})}get map(){return new Map(this.entries())}get size(){return this.map.size}get(a){return this.map.get(a)}gf(a){return Array.from(this.map.values(),a)}constructor(a){this.rzb=a;this.keys=(__c.ZZ.G(this),WZ(()=>Array.from(this.map.keys())));this.values=WZ(()=>Array.from(this.map.values()));this.entries=WZ(()=>this.rzb?.()??[])}};
EZ=__c.EZ=class{static G(a){K(a,{data:LZ,meta:LZ,cols:LZ,rows:LZ})}get data(){return this.data_()}get meta(){return this.$Ib()}get cols(){return new __c.ZZ(()=>this.data.map((a,b)=>({data:a,meta:this.meta[b]})).map((a,b,c)=>[this.Rb(a,b,c),a]))}get rows(){const a=this.data;if(!a.length)return[];const b=this.cols.keys();return Array.from(a[0],(c,d)=>new __c.ZZ(()=>a.map((e,f)=>[b[f],e[d]])))}constructor({data:a,meta:b,Rb:c}){this.data_=(EZ.G(this),void 0);this.data_=a;this.$Ib=b;this.Rb=c}};
GZ=__c.GZ=class{static G(a){K(a,{keys:LZ,cols:LZ,rows:LZ,U1:LZ})}get keys(){return new Set(Object.keys(this.s_))}get cols(){return __c.dd(this.s_,a=>a.cols)}get rows(){const a=this.keys,b=this.s_,c=Array.from(a).find(d=>b[d].cols.size!==0);return c?Array.from(b[c].rows,(d,e)=>{d={};for(const f of a)d[f]=b[f].rows.at(e)??new __c.ZZ(()=>[]);return d}):[]}get U1(){return __c.dd(this.s_,a=>a.Rb)}LEa(a){const b={},c=LZ(()=>this.rows.filter(a));for(const d of this.keys)b[d]=new EZ({data:()=>{const e=c.get();
return __c.CZ(this.s_[d].cols,f=>e.map(g=>BZ(g[d],f)))},meta:()=>this.s_[d].cols.gf(e=>e.meta),Rb:this.U1[d]});return new GZ(b)}constructor(a){this.s_=a;GZ.G(this)}};
bfc=class{filter(a,b){return new bfc(this.sj,{...this.mcb,[a]:b})}build(){const a={};for(const b of this.sj.keys){const c=this.mcb[b]??(()=>!0),d=LZ(()=>this.sj.cols[b].entries().filter(([e,f])=>c(f,e,this.sj.cols[b])));a[b]=new EZ({data:()=>d.get().map(([,e])=>e.data),meta:()=>d.get().map(([,e])=>e.meta),Rb:this.sj.U1[b]})}return new GZ(a)}constructor(a,b={}){this.sj=a;this.mcb=b}};
Sdc=class{map(a,{data:b,meta:c,Rb:d}){return new Sdc(this.sj,{...this.DK,[a]:{data:b,meta:c,Rb:d}})}build(){const a={};for(const b of this.sj.keys)a[b]=new EZ({data:()=>{const c=this.DK[b]?.data??(f=>f[b].values()),d=this.sj.rows;if(!d.length)return this.sj.cols[b].gf(()=>[]);const e=d.map(c);return e[0].map((f,g)=>e.map(h=>h[g]))},meta:()=>(this.DK[b]?.meta??(c=>c.gf(d=>d.meta)))(this.sj.cols[b]),Rb:this.DK[b]?.Rb??this.sj.U1[b]});return new GZ(a)}constructor(a,b={}){this.sj=a;this.DK=b}};
Rdc=class{map(a,{data:b,meta:c,Rb:d}){return new Rdc(this.sj,{...this.DK,[a]:{data:b,meta:c,Rb:d}})}build(){const a={};for(const b of this.sj.keys){const c=this.DK[b]?.data??(e=>e.data),d=this.DK[b]?.meta??(e=>e.meta);a[b]=new EZ({data:()=>__c.DZ(this.sj.cols[b],([e,f])=>c(f,e,this.sj.cols[b])),meta:()=>__c.DZ(this.sj.cols[b],([e,f])=>d(f,e,this.sj.cols[b])),Rb:this.DK[b]?.Rb??this.sj.U1[b]})}return new GZ(a)}constructor(a,b={}){this.sj=a;this.DK=b}};var afc=class{Fe(a,b){return a.filters.every(c=>a.YBb(c)(b))}ee(a,b){return a.filters.every(c=>a.XBb(c)(b))}};var eec=class{height(a){var b=a.zK;const c=a.eM,d=a.mr;b=c?[b.Bq.get(),c.Bq.get()]:[b.Bq.get()];({Mga:a}=KZ(Zdc(this,a,b)));return a+2*d+1.5}uya(a){var b=a.width,c=a.zK,d=a.eM;const e=a.mr,f=b-.75,g=2*e;b-=g+1.5;if(!d||c.cx.get()===d.cx.get()&&c.Bq.get()===d.Bq.get()){var h=$dc(this,a,c.Bq.get(),b);d=h.text;a=h.actualBoundingBoxAscent;b=h.width+g+1.5;h=a+h.actualBoundingBoxDescent+g;return[{x:cec(c.cx.get()-b/2,f-b),y:.75,width:b,label:d,DV:a,height:h,mr:e}]}h=[c,d];var k=h.map(y=>y.Bq.get());k=Zdc(this,
a,k);const l=k.map(({width:y})=>y),{UG:m,Mga:n}=KZ(k);h=h.map((y,B)=>{B=l[B]+g+1.5;const C=n+g+1.5;return{x:cec(y.cx.get()-B/2,f-B),y:.75,width:B,label:y.Bq.get(),DV:m,height:C,mr:e}});const [p,q]=h;if(p.x+p.width<=q.x)return h;const {dca:r,cca:t,DV:v,label:w}=bec(this,a,h.map(y=>y.label),l,b);a=r+g+1.5;b=t+g+1.5;c=c.cx.get()+(d.cx.get()-c.cx.get())/2;return[{x:cec(c-a/2,f-a),y:.75,width:a,label:w,DV:v,height:b,mr:e}]}constructor(a){this.La=a}};var fec=({uya:a,Fb:b})=>IZ("g",{children:a.map((c,d)=>IZ(gfc,{...c,Fb:b},d))}),gfc=({x:a,y:b,height:c,width:d,label:e,DV:f,mr:g,Fb:h})=>NZ("g",{transform:`translate(${a} ${b})`,children:[IZ("rect",{x:"0",y:"0",rx:"4",ry:"4",width:d,height:c,stroke:"#39466024",strokeWidth:1.5,fill:"#FFFFFF"}),IZ("g",{transform:`translate(0 ${g+.75})`,children:IZ(h,{x:d/2,y:f,fill:"#0F1015",textAnchor:"middle",dominantBaseline:"alphabetic",children:e})})]});var dec=class{get D(){return this.ea.D}get zK(){return this.ea.zK.get()}get eM(){return this.ea.eM?.get()}get width(){return this.ea.width.get()}get mr(){return this.D.fontSize/3}constructor(a){this.ea=a}};var hfc,ifc;hfc=__c.PY("line",new Set(["x1","x2"]));ifc=__c.PY("circle",new Set(["cx","aria-valuenow","aria-valuetext"]));
__c.$Z=a=>{const b=a.ref,c=a.fill,d=a.strokeColor,e=a.strokeWidth,f=a.cx,g=a.cy,h=a.r,k=a.onKeyDown,l=a.value;a=a.Bq;const [m,n]=RZ("none"),p=MZ(()=>{n("none")},[n]),q=MZ(v=>{v.stopPropagation();Ur.pr&&n("auto")},[n]),r=MZ(()=>n("none"),[n]),t=QZ();return NZ(Aec,{children:[IZ("defs",{children:IZ("filter",{id:t,x:"0",y:"0",filterUnits:"userSpaceOnUse",children:IZ("feDropShadow",{dx:"0",dy:"0",stdDeviation:e??1.5,floodColor:d})})}),IZ(ifc,{ref:b,tabIndex:0,fill:c,cx:f,cy:g,r:h-(e??1)*2,filter:`url(#${t})`,
onKeyDown:k,onMouseDown:p,onFocus:q,onBlur:r,style:{outline:`${m} -webkit-focus-ring-color`},"aria-valuenow":l,"aria-valuetext":a})]})};__c.jfc=a=>{const b=a.color;var c=a.oz;const d=a.strokeWidth,e=a.strokeColor,f=a.x1,g=a.y1,h=a.x2,k=c+(d??0);c/=2;const l=k/2,m=f-l,n=g-l;return NZ("g",{children:[IZ("line",{ref:a.ref,stroke:"transparent",strokeLinecap:"round",strokeWidth:0,x1:f,y1:g,x2:h,y2:a.y2}),IZ("rect",{fill:b,stroke:e??"#0F1015",strokeWidth:d??0,width:h-f+c*2,height:k,rx:l,ry:l,x:m,y:n})]})};
__c.kfc=({color:a,oz:b,x1:c,y1:d,x2:e,y2:f})=>IZ(hfc,{stroke:a,strokeLinecap:"round",strokeWidth:b,x1:c,y1:d,x2:e,y2:f});var pec=JZ(({zK:a,eM:b,min:c,max:d,width:e,height:f,fillColor:g,hR:h,oz:k,dva:l,Mjb:m,Vfa:n,Wfa:p,Qib:q,ariaLabel:r,Bl:t,UK:v,pW:w,WK:y,VK:B,qW:C})=>{const D=YZ(null),F=YZ(null),L=YZ(null),[M,N]=RZ("none"),P=MZ(sa=>{sa.stopPropagation();w({x:sa.clientX,y:sa.clientY},D)},[w]),S=MZ(sa=>{sa.stopPropagation();y();window.removeEventListener("mousemove",P);window.removeEventListener("mouseup",S)},[y,P]),Q=MZ(sa=>{sa.stopPropagation();N("none");v({x:sa.clientX,y:sa.clientY},D);window.addEventListener("mousemove",
P);window.addEventListener("mouseup",S)},[P,S,v,N]),W=MZ(sa=>{sa.stopPropagation();N("none");sa=sa.touches[0];v({x:sa.clientX,y:sa.clientY},D)},[v,N]),Z=MZ(sa=>{sa.stopPropagation();sa=sa.touches[0];w({x:sa.clientX,y:sa.clientY},D)},[w]),aa=MZ(sa=>{sa.stopPropagation();sa.touches.length===0&&y()},[y]),ka=MZ(sa=>{C(sa)},[C]),na=MZ(()=>{B("lower")},[B]),ua=MZ(()=>{B("upper")},[B]),la=f/2,Da=MZ(()=>{Ur.pr&&N("auto")},[N]),da=MZ(()=>N("none"),[N]);return NZ("g",{tabIndex:0,onMouseDown:Q,onTouchStartCapture:W,
onTouchMoveCapture:Z,onTouchEndCapture:aa,onKeyDown:ka,"aria-valuemin":c,"aria-valuemax":d,"aria-label":r,onFocus:Da,onBlur:da,style:{cursor:t?"grabbing":"pointer",outline:`${M} -webkit-focus-ring-color`},children:[IZ("rect",{height:f,width:e.get(),fill:"transparent"}),IZ(__c.jfc,{ref:D,color:h,oz:k,strokeWidth:m,strokeColor:l,x1:la,y1:la,x2:e.get()-la,y2:la}),IZ(__c.kfc,{color:g,oz:k,x1:a.cx,y1:la,x2:b.cx,y2:la}),IZ(__c.$Z,{ref:F,fill:n,strokeColor:p,strokeWidth:q,onKeyDown:na,...a}),IZ(__c.$Z,{ref:L,
fill:n,strokeColor:p,strokeWidth:q,onKeyDown:ua,...b})]})});var oec=class{static G(a){K(a,{UK:VZ,WK:VZ,VK:VZ})}height(a,b){const c=a.bz;a=a.D7;return b.get()+a+c}Ufa(a,b){const c=a.width,d=a.bz,e=a.min,f=a.max,g=a.qk,h=a.Ck,k=a.MV;a=a.nY;const l=LZ(()=>c),m=d/2,n=b==="lower"?g:h,p=b==="lower"?k:a;return{cx:LZ(()=>__c.kec(n,e,f,m,l)),cy:m,r:m,value:LZ(()=>n),Bq:LZ(()=>p)}}UK(a,b,c,d){c=this.g8(a,b,c);if(!a.Bl&&c){b=c.pq;c=c.tfa;var {onDragStart:e,...f}=d;a.Bl=!0;this.Yb&&(this.Yb.fK=!0);e?.();a.DE=mec(b,a.qk,a.Ck);this.lw(a,c,f)}}pW(a,b,c,d){(b=this.g8(a,b,
c))&&this.lw(a,b.tfa,d)}WK(a,b){a.Bl=!1;setTimeout(ffc.wrap(VZ(()=>{this.Yb&&(this.Yb.fK=!1)})),0);b?.()}VK(a,b){a.DE=b}qW(a,b,c){const d=a.min,e=a.max;var f=a.step,g=a.qk;const h=a.Ck;f=f!=="any"?f:1;g=a.DE==="lower"?g:h;b.key==="Home"||b.metaKey&&b.key==="ArrowLeft"?this.lw(a,d,c):b.key==="End"||b.metaKey&&b.key==="ArrowRight"?this.lw(a,e,c):b.key==="ArrowLeft"&&g-f>=d?this.lw(a,g-f,c):b.key==="ArrowRight"&&g+f<=e&&this.lw(a,g+f,c)}g8(a,b,c){const d=c.current?.getBoundingClientRect();if(d){var e=
a.min,f=a.max;c=a.step;a=__c.lec(d,b.x,b.y,a.rotation);a=e+__c.iec(Math.min(Math.max(a,0),1),f-e);c=__c.jec(a,c);return{pq:a,tfa:c}}}lw(a,b,c){const d=a.DE;var e=a.step,f=a.qk;const g=a.Ck,h=e!=="any"?e:1;e=Math.max(a.min,Math.min(b,g-h));a=Math.min(Math.max(f+h,b),a.max);d==="lower"&&Math.abs(f-e)<1E-7||d==="upper"&&Math.abs(g-a)<1E-7||(f=c.zr,c=c.Ar,d==="lower"?f(e):c(a))}constructor(a){this.Yb=a;oec.G(this)}};var nec=class{static G(a){K(a,{Bl:UZ.ref,DE:UZ.ref,D7:LZ})}get bz(){return this.ea.bz.get()}get D7(){return this.ea.D.fontSize*.3}get min(){return this.ea.min.get()}get max(){return this.ea.max.get()}get qk(){return this.ea.qk.get()}get Ck(){return this.ea.Ck.get()}get MV(){return this.ea.MV.get()}get nY(){return this.ea.nY.get()}get width(){return this.ea.width.get()}get rotation(){return this.ea.rotation}get step(){return this.ea.step.get()}constructor(a){this.ea=a;this.Bl=(nec.G(this),!1);this.DE=
"lower"}};var sec=class{static G(a){K(a,{zr:VZ,Ar:VZ,ht:VZ})}zr(a,b){a.qk=b;this.Wr({sW:"row_slider",action:"drag",tW:{Yta:!0,orientation:"row",jt:-1,Ww:-1},LP:{Yta:!0,orientation:"row",jt:-1,Ww:-1}})}Ar(a,b){a.Ck=b;this.Wr({sW:"row_slider",action:"drag",tW:{Qla:!0,orientation:"row",jt:-1,Ww:-1},LP:{Qla:!0,orientation:"row",jt:-1,Ww:-1}})}ht(a){a.config.ih={start:a.qk,end:a.Ck}}ee(a,b){const c=a.qk,d=a.Ck;a=a.Eva.get(b);return a==null||c==null||d==null?!0:a>=c&&a<=d}constructor(a,b){this.D=a;this.na=b;this.Wr=
(sec.G(this),void 0);this.Wr=Mdc(this.na,{Xt:a.Xt,Zm:a.Zm,zF:__c.vZ(a.rb),Rd:__c.wZ(this.D.Rd)})}};var rec=class{static G(a){K(a,{kP:UZ.ref,oY:UZ.ref,values:LZ,isDirty:LZ})}get bounds(){const a=this.Jm.bounds;if(a){var b=Math.pow(10,this.Jm.iCa);return{min:Math.floor(a.min*b)/b,max:Math.ceil(a.max*b)/b}}}get Ma(){return this.Jm.Ma}get Eva(){return this.Jm.Eva}get visible(){return this.bounds!=null}get min(){return this.bounds?.min}get max(){return this.bounds?.max}get step(){return 1/Math.pow(10,this.Jm.iCa)}get values(){if(this.min!=null&&this.max!=null){var a=(this.Eo?this.kP:this.config.ih?.start)??
this.min,b=(this.Eo?this.oY:this.config.ih?.end)??this.max;a=Math.min(Math.max(a,this.min),this.max);b=Math.min(Math.max(b,this.min),this.max);a===b&&(a-this.step>=this.min?a-=this.step:b+this.step<=this.max&&(b+=this.step));return{lower:a,upper:b}}}get qk(){return this.values?.lower}set qk(a){this.kP=a}get Ck(){return this.values?.upper}set Ck(a){this.oY=a}get MV(){var a=this.Ma;const b=this.qk?.toString();if(b&&a)return a=Ndc(a,b),a.ok?a.value:b}get nY(){var a=this.Ma;const b=this.Ck?.toString()??
"";if(!a)return b;a=Ndc(a,b);return a.ok?a.value:b}get isDirty(){const a=this.config,b=this.Ck;return this.visible?this.qk!==a.ih?.start||b!==a.ih?.end:!1}constructor(a,b,c){this.Jm=a;this.config=b;this.Eo=c;this.kP=(rec.G(this),void 0);this.kP=b.ih?.start;this.oY=b.ih?.end}};var lfc=class{static G(a){K(a,{options:LZ})}get options(){var a=this.key;const b=this.bw;switch(this.VZ.kind){case "bindings":a=this.VZ.bindings.Nb?.[a];if(a==null)return[];a=Array.isArray(a)?a:[a];const c=__c.TY(a.map(e=>e.label));return a.map((e,f)=>({direction:"column",label:e.label!=null&&e.label!==""?e.label:"-",key:c[f],Nb:e,index:f})).filter(({Nb:e})=>b(e));case "dataFrame":const d=this.VZ.mG;return d().cols[a].gf(({meta:e},f)=>({direction:"column",label:e.label,key:e.key,Nb:e.Nb,index:f})).filter(({Nb:e})=>
b(e));default:throw new A(this.VZ);}}constructor(a,b,c){this.VZ=a;this.key=b;this.bw=c;this.orientation=(lfc.G(this),"column")}};var mfc=class{static G(a){K(a,{values:LZ,Eva:LZ,bounds:LZ,Ma:LZ,iCa:LZ})}get values(){const a=this.er.values?.filter_by.get(this.filter);if(a&&a.kind==="number")return a.values.filter(rb).map((b,c)=>({value:b,index:c})).filter(({index:b})=>this.Yp(b))}get Eva(){return this.values?new Map(this.values.map(({index:a,value:b})=>[a,b])):new Map}get bounds(){var a=this.values;if(a?.length)return a=a.map(({value:b})=>b),{min:Math.min(...a),max:Math.max(...a)}}get Ma(){const a=this.er.values?.filter_by.get(this.filter);
if(a&&a.kind==="number")return a}get iCa(){const a=this.values,b=this.Ma,c=b?.format[0].decimal;return c?a&&b?Ldc(c)?a.reduce((d,{value:e})=>Math.max(d,__c.Kcc(e)),0):c.length:0:0}constructor(a,b,c){this.filter=a;this.er=b;this.Yp=c;mfc.G(this)}};var nfc=class{static G(a){K(a,{options:LZ})}get options(){var a=this.er.values?.filter_by.get(this.filter);if(a&&a.kind==="string"){var b=a.values.map((c,d)=>({value:c,index:d})).filter((c,d)=>this.Yp(d));a=new Map;for(const {value:c,index:d}of b)(b=a.get(c))?b.indices.add(d):a.set(c,{direction:"row",label:c!==""?c:"-",key:c,indices:new Set([d]),index:d});return Array.from(a.values())}}constructor(a,b,c){this.filter=a;this.er=b;this.Yp=c;this.orientation=(nfc.G(this),"row")}};var uec=({width:a,fill:b,fillOpacity:c})=>IZ("circle",{cx:a/2,cy:a/2,r:a/2,fill:b,fillOpacity:c,pointerEvents:"all"}),vec=({fill:a,fillOpacity:b,height:c,width:d})=>IZ("rect",{x:0,y:0,fill:a,fillOpacity:b,width:d,height:c,rx:4,ry:4,pointerEvents:"all"});var Bec=__c.PZ(__c.QVb);var Cec=__c.PZ(__c.UVb);var Iec=class{static G(a){K(a,{Sqa:VZ,Mqa:VZ,N$a:VZ})}buttons(a){var b=a.options;const c=a.values;var d=a.width;const e=Fec(this,a),{UG:f}=KZ(e);d=Gec(a,e.map(({width:k})=>k),d);const g=[];let h=0;for(const [k,{label:l,value:m}]of b.entries())b=e[k].width+2*d,g.push({label:l,value:m,x:h,DV:f,width:b,selected:c.has(m)}),h+=b+a.Eza;return g}height(a){const b=a.mr,c=a.QI;if(!a.options.length)return 0;({Mga:a}=KZ(Fec(this,a)));return a+2*b+2*c}mB(a,b){if(!b.length)return 0;b=b[b.length-1];return Math.min(a.mB,
b.x+b.width-(a.width-2*a.QI))}nGa(a,b){a=this.mB(a,b);return Math.abs(a)>.01}hasNext(a,b){const c=a.width,d=this.mB(a,b);b=b[b.length-1];return d+(c-2*a.QI)<b.x+b.width-.01}CL(a,b,c,d,e){const f=c+b*(d==="prev"?-1:1);if(d==="next"){d=a.findIndex(g=>g.x+g.width>f);if(d<0||a[d].x+a[d].width===e)return e-b;if(c===a[d].x)return c+b;a[d].x+a[d].width<f&&(d+=1);return a[d].x+b<=e?a[d].x:e-b}d=a.findIndex(g=>g.x>=f);d>0&&c===a[d].x&&--d;return a[d].x||0}Sqa(a,b){const c=a.width,d=this.mB(a,b),e=b[b.length-
1];a.mB=this.CL(b,c-2*a.QI,d,"prev",e.x+e.width)}Mqa(a,b){const c=a.width,d=this.mB(a,b),e=b[b.length-1];a.mB=this.CL(b,c-2*a.QI,d,"next",e.x+e.width)}N$a(a,b,c){const d=a.mB;if(Ur.pr&&c!==d){b=b[b.length-1];b=b.x+b.width;var e=a.width-2*a.QI;a.mB=c>d?Math.min(c,b-e):c}}constructor(a){this.Bh=a;Iec.G(this)}};var Hec=class{static G(a){K(a,{values:LZ,mB:UZ.ref,mr:LZ,QI:LZ,Eza:LZ,dqa:LZ})}get D(){return this.ea.D}get options(){return this.ea.options.get()}get width(){return this.ea.width.get()}get values(){if(this.ea.type==="single"){const a=this.ea.value.get();return a?new Set([a]):new Set}return this.ea.values.get()}get mr(){return this.D.fontSize*.6}get QI(){return this.D.fontSize/6}get Eza(){return this.D.fontSize*__c.RY}get dqa(){return this.D.fontSize/16}constructor(a){this.ea=a;this.mB=(Hec.G(this),
0)}};var Mec=class{static G(a){K(a,{UL:VZ,ht:VZ})}options(a){return a.options?.map(({label:b,key:c})=>({label:b,value:c}))??[]}UL(a,b,c){const d=this.options(a).length,e=a.selectedOptions.size;a.values.has(b)?a.values.delete(b):a.values.add(b);this.Wr({sW:Kec(c,a.direction),action:"select",tW:{orientation:a.direction,jt:e,Ww:d},LP:{orientation:a.direction,jt:a.selectedOptions.size,Ww:d}})}ht(a){a.config.PF=Array.from(a.GNa)}Fe(a,b){const c=a.selectedOptions;return a.options&&c?.size?Array.from(c).some(d=>
d.direction!=="column"?!0:d.Nb.id===b.id):!0}ee(a,b){const c=a.selectedOptions;return a.options&&c?.size?Array.from(c).some(d=>d.direction!=="row"?!0:d.indices.has(b)):!0}Wr(a){this.na?.Wr({...a,Xt:this.D.Xt,Zm:this.D.Zm,zF:__c.vZ(this.D.rb),Rd:__c.wZ(this.D.Rd)})}constructor(a,b){this.D=a;this.na=b;Mec.G(this)}};var Lec=class{static G(a){K(a,{values:UZ.shallow,options:LZ,zab:LZ,selectedOptions:LZ,GNa:LZ,isDirty:LZ,direction:LZ})}get visible(){return this.options!=null&&this.options.length>0}get options(){return this.Jm.options}get zab(){return new Set(this.options?.filter(rb).map(a=>a.key))}get selectedOptions(){const a=this.Eo?this.values:new Set(this.config.PF);return new Set(this.options?.filter(b=>a.has(b.key)))}get GNa(){return new Set(Array.from(this.selectedOptions).map(a=>a.key))}get isDirty(){const a=
this.GNa;if(!this.visible)return!1;const b=ofc.intersection(new Set(this.config.PF),this.zab);return!(b.size===a.size&&ofc.isSubsetOf(b,a))}get direction(){return this.Jm.orientation}constructor(a,b,c){this.Jm=a;this.config=b;this.Eo=c;this.type=(Lec.G(this),"text_multi");this.values=new Set(b.PF)}},ofc=class{static intersection(a,b){const c=new Set;for(const d of a)b.has(d)&&c.add(d);return c}static isSubsetOf(a,b){for(const c of a)if(!b.has(c))return!1;return!0}};var Rec=JZ(({zK:a,eM:b,width:c,height:d,fillColor:e,hR:f,oz:g,dva:h,Mjb:k,Vfa:l,Wfa:m,ariaLabel:n,UK:p,pW:q,WK:r,VK:t,qW:v,Bl:w,jJb:y,HD:B})=>{const C=YZ(null),D=YZ(null),F=YZ(null),[L,M]=RZ("none"),N=MZ(da=>{da.stopPropagation();q({x:da.clientX,y:da.clientY},C)},[q]),P=MZ(da=>{da.stopPropagation();r();window.removeEventListener("mousemove",N);window.removeEventListener("mouseup",P)},[N,r]),S=MZ(da=>{da.stopPropagation();M("none");p({x:da.clientX,y:da.clientY},C);window.addEventListener("mousemove",
N);window.addEventListener("mouseup",P)},[N,P,p,M]),Q=MZ(da=>{M("none");da.stopPropagation();da=da.touches[0];p({x:da.clientX,y:da.clientY},C)},[p,M]),W=MZ(da=>{da.stopPropagation();da=da.touches[0];q({x:da.clientX,y:da.clientY},C)},[q]),Z=MZ(da=>{da.stopPropagation();da.touches.length===0&&r()},[r]),aa=MZ(da=>{v(da)},[v]),ka=MZ(()=>{t("lower")},[t]),na=MZ(()=>{t("upper")},[t]),ua=d/2,la=MZ(()=>{Ur.pr&&M("auto")},[M]),Da=MZ(()=>M("none"),[M]);return NZ("g",{tabIndex:0,onMouseDown:S,onTouchStartCapture:Q,
onTouchMoveCapture:W,onTouchEndCapture:Z,onKeyDown:aa,"aria-valuemin":y,"aria-valuemax":B,"aria-label":n,onFocus:la,onBlur:Da,style:{cursor:w?"grabbing":"pointer",outline:`${L} -webkit-focus-ring-color`},children:[IZ("rect",{height:d,width:c.get(),fill:"transparent"}),IZ(__c.jfc,{ref:C,color:f,oz:g,strokeWidth:k,strokeColor:h,x1:ua,y1:ua,x2:c.get()-ua,y2:ua}),IZ(__c.kfc,{color:e,oz:g,x1:a.cx,y1:ua,x2:b.cx,y2:ua}),IZ(__c.$Z,{ref:D,fill:l,strokeColor:m,onKeyDown:ka,...a}),IZ(__c.$Z,{ref:F,fill:l,strokeColor:m,
onKeyDown:na,...b})]})});var Pec=class{static G(a){K(a,{Bl:UZ.ref,DE:UZ.ref,D7:LZ,oca:LZ,Qga:LZ,HD:LZ})}get bz(){return this.ea.bz.get()}get D7(){return this.ea.D.fontSize*.3}get options(){return this.ea.options}get oca(){const a=this.ea.qk,b=this.ea.options.get().findIndex(c=>c.value===a.get());return b===-1?0:Math.min(b,this.HD-(this.HD===0?0:1))}get Qga(){const a=this.ea.Ck,b=this.ea.options.get().findIndex(c=>c.value===a.get());return b===-1?0:Math.min(b,this.HD)}get HD(){return Math.max(this.options.get().length-1,0)}get width(){return this.ea.width.get()}get rotation(){return this.ea.rotation}constructor(a){this.ea=
a;this.Bl=(Pec.G(this),!1);this.DE="lower"}};var pfc=J("549lAQ"),Qec=class{static G(a){K(a,{UK:VZ,WK:VZ,VK:VZ,lw:VZ})}height(a,b){const c=a.bz;a=a.D7;return b.get()+a+c}Ufa(a,b){const c=a.width,d=a.bz,e=a.oca,f=a.Qga,g=a.HD,h=LZ(()=>c),k=d/2,l=b==="lower"?e:f;return{cx:LZ(()=>__c.kec(l,0,g,k,h)),cy:k,r:k,value:LZ(()=>l),Bq:LZ(()=>{const m=a.options;return!m.get().length||l<0||l>=m.get().length?pfc:m.get()[l].label})}}UK(a,b,c,d){c=this.g8(a,b,c);if(!a.Bl&&c){b=c.pq;c=c.tfa;var {onDragStart:e,...f}=d;a.Bl=!0;this.Yb&&(this.Yb.fK=!0);e?.();a.DE=
mec(b,a.oca,a.Qga);this.lw(a,c,f)}}pW(a,b,c,d){(b=this.g8(a,b,c))&&this.lw(a,b.tfa,d)}WK(a,b){a.Bl=!1;setTimeout(ffc.wrap(VZ(()=>{this.Yb&&(this.Yb.fK=!1)})),0);b?.()}VK(a,b){a.DE=b}qW(a,b,c){const d=a.HD;var e=a.oca;const f=a.Qga;e=a.DE==="lower"?e:f;b.key==="Home"||b.metaKey&&b.key==="ArrowLeft"?this.lw(a,0,c):b.key==="End"||b.metaKey&&b.key==="ArrowRight"?this.lw(a,d,c):b.key==="ArrowLeft"&&e-1>=0?this.lw(a,e-1,c):b.key==="ArrowRight"&&e+1<=d&&this.lw(a,e+1,c)}g8(a,b,c){const d=c.current?.getBoundingClientRect();
if(d)return c=a.HD,a=__c.lec(d,b.x,b.y,a.rotation),a=0+__c.iec(Math.min(Math.max(a,0),1),c-0),b=__c.jec(a,1),{pq:a,tfa:b}}lw(a,b,c){var d=a.oca;const e=a.Qga,f=a.DE,g=Math.max(0,Math.min(b,e-1));b=Math.min(Math.max(d+1,b),a.HD);f==="lower"&&d===g||f==="upper"&&e===b||(d=c.zr,c=c.Ar,f==="lower"?d(z(Oec(a,g))):c(z(Oec(a,b))))}constructor(a){this.Yb=a;Qec.G(this)}};var Uec=class{static G(a){K(a,{zr:VZ,Ar:VZ,ht:VZ})}zr(a,b){const c=a.options.length,d=a.ZE?.index,e=a.FD?.index;a.qk=b;b=a.FD?.index;d!=null&&e!=null&&b!=null&&this.Wr({sW:a.direction==="column"?"col_slider":"row_slider",action:"drag",tW:{Yta:!0,orientation:a.direction,jt:d-e+1,Ww:c},LP:{Yta:!0,orientation:a.direction,jt:d-b+1,Ww:c}})}Ar(a,b){const c=a.options.length,d=a.FD?.index,e=a.ZE?.index;a.Ck=b;b=a.ZE?.index;d!=null&&e!=null&&b!=null&&this.Wr({sW:a.direction==="column"?"col_slider":"row_slider",
action:"drag",tW:{Qla:!0,orientation:a.direction,jt:e-d+1,Ww:c},LP:{Qla:!0,orientation:a.direction,jt:b-d+1,Ww:c}})}ht(a){a.config.ih={start:a.FD?.key,end:a.ZE?.key}}options(a){return a.options.map(({label:b,key:c})=>({label:b,value:c}))}Fe(a,b){return(b=a.Eab.get(b))&&a.FD&&a.ZE?b.index>=a.FD.index&&b.index<=a.ZE.index:!0}ee(a,b){return(b=a.Dab.get(b))&&a.FD&&a.ZE?b.index>=a.FD.index&&b.index<=a.ZE.index:!0}constructor(a,b){this.D=a;this.na=b;this.Wr=(Uec.G(this),void 0);this.Wr=Mdc(this.na,{Xt:a.Xt,
Zm:a.Zm,zF:__c.vZ(a.rb),Rd:__c.wZ(this.D.Rd)})}};var Tec=class{static G(a){K(a,{kP:UZ.ref,oY:UZ.ref,direction:LZ,options:LZ,tda:LZ,Eab:LZ,Dab:LZ,selectedOptions:LZ,isDirty:LZ})}get visible(){return this.options!=null&&this.options.length>0}get qk(){const a=this.Eo?this.kP:this.config.ih?.start;if(this.options.length)return a==null?this.options[0].key:a}set qk(a){this.kP=a}get Ck(){const a=this.Eo?this.oY:this.config.ih?.end;if(this.options.length)return a==null?this.options[this.options.length-1].key:a}set Ck(a){this.oY=a}get direction(){return this.Jm.orientation}get options(){return this.Jm.options??
[]}get tda(){return new Map(this.options?.map(a=>[a.key,a]))}get Eab(){return new Map(this.options?.map(a=>{if(a.direction==="column")return[a.Nb,a]}).filter(rb))}get Dab(){return new Map(this.options?.flatMap(a=>{if(a.direction==="row")return Array.from(a.indices).map(b=>[b,a])}).filter(rb))}get selectedOptions(){const a=this.options;var b=this.tda,c=this.qk;const d=this.Ck;if(a.length)return c=c?b.get(c):void 0,b=d?b.get(d):void 0,c||(c=a[0]),b||(b=a[a.length-1]),c.index>b.index&&([c,b]=[b,c]),
{FD:c,ZE:b}}get FD(){return this.selectedOptions?.FD}get ZE(){return this.selectedOptions?.ZE}get isDirty(){const a=this.config,b=this.FD,c=this.ZE;return this.visible?(b?.key!==a.ih?.start||c?.key!==a.ih?.end)&&(b?.key!==a.ih?.end||c?.key!==a.ih?.start):!1}constructor(a,b,c){this.Jm=a;this.config=b;this.Eo=c;this.type=(Tec.G(this),"text_range");this.kP=b.ih?.start;this.oY=b.ih?.end}};var Xec=class{static G(a){K(a,{UL:VZ,ht:VZ})}options(a){return a.options?.map(({label:b,key:c})=>({label:b,value:c}))??[]}UL(a,b,c){const d=this.options(a).length,e=a.value?1:0;a.value=a.value!==b?b:void 0;this.Wr({sW:Kec(c,a.direction),action:"select",tW:{orientation:a.direction,jt:e,Ww:d},LP:{orientation:a.direction,jt:a.V4?1:0,Ww:d}})}ht(a){a.config.DC=a.V4?.key}Fe(a,b){const c=a.V4;return a.options&&c&&c.direction==="column"?c.Nb.id===b.id:!0}ee(a,b){const c=a.V4;return a.options&&c&&c.direction===
"row"?c.indices.has(b):!0}Wr(a){this.na?.Wr({...a,Xt:this.D.Xt,Zm:this.D.Zm,zF:__c.vZ(this.D.rb),Rd:__c.wZ(this.D.Rd)})}constructor(a,b){this.D=a;this.na=b;Xec.G(this)}};var Wec=class{static G(a){K(a,{value:UZ.ref,options:LZ,tda:LZ,V4:LZ,isDirty:LZ,direction:LZ})}get visible(){return this.options!=null&&this.options.length>0}get options(){return this.Jm.options}get tda(){return new Map(this.options?.map(a=>[a.key,a]))}get V4(){const a=this.Eo?this.value:this.config.DC;if(a!=null)return this.tda.get(a)}get isDirty(){return this.visible?this.V4?.key!==this.config.DC:!1}get direction(){return this.Jm.orientation}constructor(a,b,c){this.Jm=a;this.config=b;this.Eo=c;this.type=
(Wec.G(this),"text_single");this.value=b.DC}};var $ec=class{static G(a){K(a,{filters:LZ,height:LZ,L1:LZ})}get filters(){return this.D.rb.L.ref?.filters.toArray()??[]}get Ulb(){return this.D.fontSize*.5}get height(){return this.filters.reduce((a,b,c,d)=>{b=this.W2a(b);return a+b+(c!==d.length-1?this.Ulb:0)},0)}get L1(){return this.filters.some(a=>this.Qv(a).visible)}constructor(a,b,c,d,e,f,g,h,k,l,m,n){this.D=a;this.VZ=b;this.Yb=c;this.Eo=d;this.Fb=e;this.La=f;this.bindings=g;this.er=h;this.bw=k;this.Yp=l;this.Ve=m;this.width=n;this.sAb=($ec.G(this),
new __c.oZ(this.D,this.er));this.SJ=WZ(p=>{var q=this.D,r=this.bindings,t=this.VZ,v=this.sAb,w=this.bw,y=this.Yp;switch(p.type){case "column":a:switch(q=q.Zm,q){case "GROUPED_COLUMN":case "STACKED_COLUMN":case "GROUPED_ROW":case "STACKED_ROW":case "PIE":case "DONUT":case "LINE":case "STACKED_AREA":case "BAR_RACE":case "HISTOGRAM":case "RADAR":case "FUNNEL":__c.x("value_by"in r.gg);r="value_by";break a;case "SCATTERPLOT":case "BUBBLEPLOT":case "DOTPLOT":case "GROUPED_DOTPLOT":__c.x("y_value_by"in r.gg);
r="y_value_by";break a;case "PACKED_CIRCLES":case "TREEMAP":__c.x("group_by"in r.gg);r="group_by";break a;default:throw new A(q);}t=new lfc(t,r,w);return Zec(this,p.config.ref,t);case "row-text":return t=new nfc(p,v,y),Zec(this,p.config.ref,t);case "row-numeric":t=new mfc(p,v,y);a:{p=p.config.ref;w=this.D;r=this.Yb;q=this.Fb;v=this.La;y=this.Eo;const B=this.Ve,C=this.width;switch(p.type){case "range":const D=p.control.ref;switch(D.type){case "slider":p=tec({control:D,D:w,Yb:r,Fb:q,La:v,Jm:t,Eo:y,
config:p,Ve:B,width:C});break a;default:throw new A(D.type);}default:throw new A(p.type);}p=void 0}return p;default:throw new A(p);}});this.FBb=WZ(p=>this.SJ(p).Bha);this.Qv=WZ(p=>this.SJ(p).hma);WZ(p=>this.SJ(p).ht);this.W2a=WZ(p=>this.SJ(p).height.get());this.YBb=WZ(p=>this.SJ(p).Fe);this.XBb=WZ(p=>this.SJ(p).ee)}};
}).call(globalThis, globalThis._5f74ec40302898c5a55451c9fbd04240);}

}])
//# sourceMappingURL=sourcemaps/fe2f14b67786ce10.js.map