(globalThis["webpackChunk_canva_web"] = globalThis["webpackChunk_canva_web"] || []).push([[43432],{

/***/ 191943:
function(_, __, __webpack_require__) {__webpack_require__.n_x = __webpack_require__.n;const __web_req__ = __webpack_require__;__web_req__(905716);__web_req__(211259);globalThis._5f74ec40302898c5a55451c9fbd04240 = globalThis._5f74ec40302898c5a55451c9fbd04240 || {};(function(__c) {var l2=__c.l2;var K=__c.K;
var wRc=async function(a,b){return a.Wva(b,async()=>{const c=(0,__c.xc)()();try{if(a.m0a==null)throw Error("Scene document resources are not supported");const d=c.r(await c.s(a.m0a.dr({id:b,version:1},void 0))),e={id:d.id,files:{u3a:d.content.url,hMa:d.kd?.url}};(0,__c.Yb)(()=>{a.scenes.set(e.id,e)});return e}finally{c.s()}})},zRc=function(a,b){if(a.Uh.lmb&&b instanceof xRc)return new yRc(a.Uh.lmb,b);throw Error("GltfResource needs GltfResource");},BRc=function(a){return ARc?new xRc(a):new xRc(a,
{environment_sdr:"https://smartmockups-web-assets.s3.us-east-1.amazonaws.com/default_octahedral_packed_sdr.png",environment_gain:"https://smartmockups-web-assets.s3.us-east-1.amazonaws.com/default_octahedral_packed_gain.png"})},CRc=function(a,b,c){let d=b-1,e=0,f=c-1,g=0;for(let h=0;h<c;h++)for(let k=0;k<b;k++)a[3+(h*b+k)*4]!==0&&(d=Math.min(d,k),e=Math.max(e,k),f=Math.min(f,h),g=Math.max(g,h));a=g-f+1;return{left:d,top:c-(f+a),width:e-d+1,height:a}},DRc=function(a,b,c){const d=a.store.gD?a.Uh.canvas:
a.store.aG;if(d){var e=c.getContext("2d");if(!e)throw Error("Unable to create 2d context");a.store.gD&&a.render(!1);c.width=b;c.height=b;e.drawImage(d,0,0,b,b)}},ERc=function(a,b){a.store.container=b;b.contains(a.Uh.canvas)||b.appendChild(a.Uh.canvas)},GRc=function(a){if(a.store.mf){const b=requestAnimationFrame(FRc.wrap(()=>GRc(a)));a.store.yia=b;a.render(a.store.Q0a)}},JRc=function({gna:a,Uh:b}){const c=new HRc;return new IRc(c,a,b)},KRc=function(a){var b=__c.z(a.store.container,"Missing container"),
c=a.Mg.Q0;b.style.width=2E3*a.Mg.da+"px";b.style.height=2E3*a.Mg.da+"px";b.style.left=`-${c.left*a.Mg.da}px`;b.style.top=`-${c.top*a.Mg.da}px`;b.style.position="absolute";c=new Image;{var d=a.Mg;b=a.C1(b);const e=d.store.gD?d.Uh.canvas:d.store.aG;e?(d.store.gD&&(E7(d.Uh,b,b),d.render(!1)),d=e.toDataURL("image/png")):d=""}c.src=d;a.store.FO=c},MRc=function(a){var b=__c.z(a.store.container,"Missing container");b.style.position="init";b.style.left="0";b.style.top="0";b.style.width="100%";b.style.height=
"100%";const c=document.createElement("canvas");var d=a.Mg;b=a.C1(b);if(d.store.isInitialized){var e=c.getContext("2d");if(!e)throw Error("Unable to create 2d context");var f=b/2E3,g=d.Y$();c.width=f*g.width;c.height=f*g.height;const h=LRc(d.Uh);E7(d.Uh,b,b);d.render(!1);e.drawImage(d.Uh.canvas,g.left*f,g.top*f,g.width*f,g.height*f,0,0,g.width*f,g.height*f);E7(d.Uh,h.width,h.height)}else if(d.store.aG){e=c.getContext("2d");if(!e)throw Error("Unable to create 2d context");f=d.store.Zia;g=d.store.qU/
2E3;b/=2E3;c.width=Math.round(b*f.width);c.height=Math.round(b*f.height);e.drawImage(d.store.aG,f.left*g,f.top*g,f.width*g,f.height*g,0,0,c.width,c.height)}d=new Image;d.src=c.toDataURL("image/png");a.store.FO=d;c.width=1;c.height=1},NRc=function(a){const b=a.Fn;a=__c.TO.create({...__c.xD,image:{...__c.SEb,media:{...__c.Rla,id:a.GK,version:1},Bb:void 0}});return F7(b,{fill:a})},QRc=function({Qnb:a,Nob:b,Iob:c,xka:d,uEb:e,Fn:f,Nta:g}){switch(d){case 1:return F7(c,{});case 3:return F7(ORc,{hba:e||""});
case 0:return F7(b,{});case 2:return F7(NRc,{Fn:f,GK:g||""});case 4:return F7(a,{});case 5:return F7(PRc,{});default:throw new __c.A(d);}},XRc=function({Dq:a,xc:b,Fn:c,kB:d,Uh:e,Gsa:f,exports:g,E9:h,$a:k}){const l=new RRc,m=new SRc(l,a,b,d,e,f,h,k,g.hya,g.fya),n=TRc(a),p=URc(a),q=()=>F7("div",{children:"Error"});return VRc(()=>{G7(()=>{m.initialize();return()=>{m.destroy()}},[]);return F7(WRc,{Zd:m.Zd,children:F7(QRc,{xka:m.xka,uEb:m.hba,selected:m.wi,Nta:m.Nta,Fn:c,Iob:p,Nob:n,Qnb:q})})})},$Rc=function(a){return YRc(({data:b,
cg:{Fn:c},Ia:{xc:d}})=>{const e=ZRc(()=>XRc({Dq:b,xc:d,Fn:c,...a}),[b,d,c]);return F7("div",{className:"N73IPQ",children:F7(e,{})})})},bSc=function(a,b,c){a=a.startSpan("load_resource",c);return aSc(a,b)},aSc=function(a,b){return(typeof b==="function"?b():b).catch(FRc.wrap(c=>{a.setStatus("error");throw c;})).finally(FRc.wrap(()=>{a.end()}))},E7=function(a,b,c){a.canvas.width=b;a.canvas.height=c},cSc=function(a,b){a.eea=a.eea.filter(c=>c!==b)},LRc=function(a){return{width:a.canvas.width,height:a.canvas.height}},
eSc=async function(a){const b=H7()();try{a.$R||(a.$R=I7());try{const [{default:c,WebGlRenderer:d},{default:e}]=b.r(await b.s(Promise.all([__webpack_require__.me(244059),__webpack_require__.me(483894)])));b.r(await b.s(c({path:e})));a.uTa=d}catch(c){throw b.r(),a.h7=void 0,Error("Failed to initialize renderer",{cause:c});}try{a.gS=dSc(a)}catch(c){a.K.info(`Unable to initialize WebGL context error: ${c}`),J7(()=>{a.Exa=!0})}}finally{b.s()}},I7=function(){const a=document.createElement("canvas");a.width=
1E3;a.height=1E3;a.style.width="100%";a.style.visibility="visible";return a},dSc=function(a,b=0){if(b>5)throw Error("Unable to recreate context");const c=fSc(a);a.gS=new (__c.z(a.uTa))(c);a.gS.onContextLost=()=>{a.K.info("WebGL context lost for scene widget");a.gS=void 0;a.h7=void 0;a.nJa=()=>{const d=a.canvas;a.$R=I7();a.uTa&&dSc(a,b+1);a.eea.forEach(e=>e(d));a.nJa=void 0}};return a.gS},fSc=function(a){a=a.canvas;let b;const c=e=>{b=e.statusMessage??"Unknown"};a.addEventListener("webglcontextcreationerror",
c);const d=a.getContext("webgl");a.removeEventListener("webglcontextcreationerror",c);if(d!=null)return d;throw Error(b);};
__c.kr.prototype.Wva=__c.ca(27,function(a,b){const c=this.Ui.get(__c.gr(a));if(c!=null&&c.Ndb!=null){const e=this.YZ.get(__c.gr(c.ref));if(e!=null)return Promise.resolve({...c,element:e})}const d=__c.gr(a);if(a=this.pending.get(d))return a;c!=null&&c.Ndb!=null&&(b=async()=>{const e=(0,__c.xc)()();try{const f=e.r(await e.s(__c.jr(this,c)));return{...c,element:f}}finally{e.s()}});b=b().finally(__c.za.wrap(()=>this.pending.delete(d)));this.pending.set(d,b);return b});
__c.lr.prototype.Wva=__c.ca(26,function(a,b){var c=this.scenes.get(a);if(c)return Promise.resolve(c);if(c=this.pending.get(a))return c;b=b().finally(__c.za.wrap(()=>this.pending.delete(a)));this.pending.set(a,b);return b});var gSc=__webpack_require__(244059),yRc=gSc.GltfRenderer,xRc=gSc.GltfResource;var K7=__webpack_require__(186901),L7=K7.EW,J7=K7.h5,M7=K7.mJ,N7=K7.sH,O7=K7.XI;var FRc=__webpack_require__(245307).Fm;var H7=__webpack_require__(75402)._;var hSc=__webpack_require__(296713),F7=hSc.jsx,iSc=hSc.jsxs;var P7=__webpack_require__(978109),YRc=P7.memo,G7=P7.useEffect,ZRc=P7.useMemo,jSc=P7.useRef,kSc=P7.useState;var VRc=__webpack_require__(270531).PA;var ARc=__c.vc("1aab289f",!1),lSc=class{constructor(a){this.Uh=a}};var mSc=class{static G(a){K(a,{selected:N7.ref,Ava:N7.ref,zva:N7.ref,qba:N7.ref,UFb:N7.ref})}constructor(a){this.Mg=a;this.selected=(mSc.G(this),!1);this.zva=this.Ava=!1;this.qba=0;this.UFb=!1}};var IRc=class{static G(a){K(a,{initialize:O7,Fzb:O7,JPa:O7,vgb:O7,dispose:O7,Y$:O7,ona:O7,Shb:O7})}async initialize(a){const b=H7()();try{if(!this.store.isInitialized&&!this.store.Zd){this.store.Zd=!0;var c=BRc(a);this.store.hna=c;b.r(await b.s(c.load()));c===this.store.hna&&(this.store.gD=zRc(this.gna,c),this.Uh.eea.push(this.ona),this.render(!0),J7(()=>{this.store.isInitialized=!0;this.store.Zd=!1}))}}finally{b.s()}}Fzb(a,b,c=!0){const d=this.Y$();this.store.Q0=d;a=Math.round(Math.min(a.width*2E3/
d.width,2E3));E7(this.Uh,a,a);this.store.qU=a;this.store.da=b;this.store.Q0a=c;this.Shb()}get qU(){return this.store.qU}get Q0(){return this.store.Q0}JPa(){this.store.mf=!1;this.store.yia!=null&&(cancelAnimationFrame(this.store.yia),this.store.yia=void 0)}vgb(a){this.store.BT=a}async dispose(){const a=H7()();try{this.JPa();if(this.isInitialized&&this.store.container?.contains(this.Uh.canvas)){this.store.Zia=this.Y$();const c=document.createElement("canvas");DRc(this,this.store.qU,c);this.store.aG=
c}this.store.gD?.dispose();this.store.gD=void 0;this.store.isInitialized=!1;cSc(this.Uh,this.ona);this.store.Zd=!1;const b=this.store.hna;this.store.hna=void 0;a.r(await a.s(b?.load()));b?.dispose()}finally{a.s()}}Y$(){if(this.store.$ia&&this.store.BT===this.store.$ia?.INb)return this.store.$ia.la;var a=LRc(this.Uh);E7(this.Uh,2E3,2E3);this.render(!1);const b=this.Uh.getImageData();E7(this.Uh,a.width,a.height);a=this.xBb(b.data,b.width,b.height);this.store.$ia={INb:this.store.BT,la:a};return a}get isInitialized(){return this.store.isInitialized}get Zd(){return this.store.Zd}get mf(){return this.store.mf}get da(){return this.store.da}setRecolorings(a){this.store.gD?.setRecolorings(a)}Shb(){this.JPa();
this.store.mf=!0;GRc(this)}render(a){this.store.gD?.render({distance:1,rotationPhi:this.store.BT.rotation.x,rotationTheta:this.store.BT.rotation.y,enableGrid:a})}constructor(a,b,c,d=CRc){this.store=a;this.gna=b;this.Uh=c;this.xBb=d;this.ona=(IRc.G(this),e=>{J7(()=>{const f=this.store.hna,g=this.store.container;g&&this.store.isInitialized&&f&&(g.contains(e)&&g.removeChild(e),ERc(this,g),this.store.gD?.dispose(),this.store.gD=void 0,this.store.gD=zRc(this.gna,f),this.Uh.eea.push(this.ona),this.store.isInitialized=
!0)})})}};var HRc=class{static G(a){K(a,{mf:N7.ref,BT:N7.ref,yia:N7.ref,aG:N7.ref,Zia:N7.ref,$ia:N7.ref,isInitialized:N7.ref,Zd:N7.ref,da:N7.ref,Q0:N7.ref})}constructor(){this.container=(HRc.G(this),void 0);this.Q0a=this.mf=!1;this.BT={rotation:{x:0,y:0,z:0}};this.Zia={left:0,top:0,width:1,height:1};this.Zd=this.isInitialized=!1;this.da=1;this.Q0={left:0,top:0,width:1,height:1};this.qU=0}};var nSc=({CFb:a})=>iSc("div",{className:"Wfem7A",children:[F7("div",{className:"CSoSRg"}),F7("div",{className:"__J59g",style:{width:a?"100%":"init",height:a?"init":"100%",aspectRatio:"1"},children:F7("div",{className:"tEhdig"})})]}),WRc=({children:a,Zd:b})=>{const c=jSc(null),[d,e]=kSc(!1);G7(()=>{c.current&&e(c.current.clientWidth>=c.current.clientHeight)},[c]);return b?F7("div",{ref:c,className:"uDEnGQ",children:iSc("div",{className:"E8BDLQ",children:[F7("div",{className:"II7r4Q",children:a}),F7(nSc,
{CFb:d})]})}):a};var oSc=({KKb:a,JKb:b})=>{const c=jSc(null);G7(()=>{const d=c.current;c.current&&a(c.current);return()=>{d&&b()}},[c,a,b]);return F7("div",{ref:c,style:{display:"block",position:"absolute"}})};var pSc=class{get Mg(){return this.local.Mg}constructor(a){this.local=a;this.RCb=b=>{const c=this.Mg.Q0;b.style.width=2E3*this.Mg.da+"px";b.style.height=2E3*this.Mg.da+"px";b.style.left=`-${c.left*this.Mg.da}px`;b.style.top=`-${c.top*this.Mg.da}px`;ERc(this.Mg,b)};this.QCb=()=>{var b=this.Mg;if(b.isInitialized&&b.store.container?.contains(b.Uh.canvas)){b.store.Zia=b.Y$();const c=document.createElement("canvas");DRc(b,b.store.qU,c);b.store.aG=c}b.store.container?.removeChild(b.Uh.canvas);b.store.container=
void 0}}};var URc=({local:a})=>{const b=new pSc(a);return()=>F7(oSc,{KKb:b.RCb,JKb:b.QCb})};var qSc=({FO:a,jLb:b,onDispose:c})=>{const d=jSc(null);G7(()=>{d.current&&b(d.current);return()=>c()},[d,b,c]);G7(()=>{d.current&&a&&(a.style.width="100%",a.style.height="100%",d.current.firstChild&&d.current.removeChild(d.current.firstChild),d.current.appendChild(a))},[d,a]);return F7("div",{ref:d,style:{width:"100%",height:"100%"}})};var rSc=__c.vc("75810be2",!1),sSc=class{static G(a){K(a,{initialize:O7.bound,dispose:O7.bound,a0a:O7})}initialize(a){rSc||(this.store.container=a,this.store.b0a=M7(()=>[this.Mg.store.BT,this.Mg.mf],this.UCb,{fireImmediately:!1}),this.store.Z_a=M7(()=>this.local.zva,this.SCb,{fireImmediately:!0}))}dispose(){this.a0a();this.store.b0a?.();this.store.b0a=void 0;this.store.Z_a?.();this.store.Z_a=void 0}get FO(){return this.store.FO}C1(a){a=a.getBoundingClientRect();return Math.max(a.width,a.height)>100?
this.Mg.qU:300}get Mg(){return this.local.Mg}a0a(){this.store.FO=void 0}constructor(a,b){this.store=a;this.local=b;this.UCb=(sSc.G(this),()=>{this.Mg.mf||(this.local.zva?KRc(this):MRc(this))});this.SCb=()=>{this.local.zva?KRc(this):MRc(this)}}};var tSc=class{static G(a){K(a,{FO:N7.ref})}constructor(){this.container=(tSc.G(this),void 0)}};var TRc=({local:a})=>{const b=new tSc,c=new sSc(b,a);return VRc(()=>F7(qSc,{jLb:c.initialize,onDispose:c.dispose,FO:c.FO}))};var PRc=()=>F7("div",{className:"_7SJjPA"});var ORc=({hba:a})=>F7("img",{src:a,style:{maxWidth:"100%",maxHeight:"100%",width:"auto",height:"auto"}});var SRc=class{static G(a){K(a,{initialize:O7,destroy:O7,xka:L7,Zd:L7,isError:L7,hba:L7,vD:L7,wi:L7,H3a:O7,Faa:O7,N3a:O7})}async initialize(){const a=H7()();try{this.store.lxb=M7(()=>this.vD,this.H3a,{fireImmediately:!0});this.hya&&(this.d0a=M7(()=>this.wi&&this.Uh.WHa,c=>c&&this.hya?.(),{fireImmediately:!1}));this.fya&&(this.kxb=M7(()=>this.wi&&this.o5,c=>c&&this.fya?.(),{fireImmediately:!0}));const b=a.r(await a.s(wRc(this.kB,this.Dq.C.scene.id)));J7(()=>{this.store.scene=b})}finally{a.s()}}destroy(){this.vD&&
this.Dq.local.qba--;this.Dq.local.qba===0&&this.Mg.dispose();this.store.lxb?.();this.store.XCa?.();this.store.WCa?.();this.store.c0a?.();this.d0a?.();this.kxb?.()}get xka(){return this.XHa&&this.vD&&!this.Mg.mf||this.vD&&this.XHa&&!this.wi||!this.vD&&this.XHa?0:this.DFb&&this.Mg.mf?1:this.Nta?2:this.hba?3:this.isError?4:5}get Zd(){return this.vD&&this.wi&&!this.Mg.isInitialized}get isError(){return!!this.store.scene&&!this.store.scene.files.hMa}get hba(){return this.store.scene?.files.hMa}get XHa(){return this.Dq.local.Ava}get Nta(){return this.Dq.C.config.ref.snapshot?.id}get vD(){const a=
this.$a?.status===2;return!this.E9&&!a&&this.xc===30&&!this.Uh.WHa}get o5(){return this.store.o5}get wi(){return this.Dq.local.selected}get DFb(){return this.vD&&this.wi&&this.Mg.isInitialized}get Mg(){return this.Dq.local.Mg}get C(){return this.Dq.C}constructor(a,b,c,d,e,f,g,h,k,l){this.store=a;this.Dq=b;this.xc=c;this.kB=d;this.Uh=e;this.Gsa=f;this.E9=g;this.$a=h;this.hya=k;this.fya=l;this.d0a=(SRc.G(this),void 0);this.aDb=()=>{if(!this.Dq.local.Ava){var m=this.Mg;m.store.aG&&(m.store.aG.width=
1,m.store.aG.height=1,m.store.aG=void 0)}};this.H3a=(m,n)=>{this.store.XCa?.();this.store.WCa?.();this.store.c0a?.();n&&this.Dq.local.qba--;this.vD?(this.Dq.local.qba++,this.store.XCa=M7(()=>({selected:this.wi,scene:this.store.scene}),({selected:p,scene:q})=>this.Faa(p,q),{fireImmediately:!0}),this.store.WCa=M7(()=>[this.Dq.C.config.ref.rotationPhi,this.Dq.C.config.ref.rotationTheta],this.XCb,{fireImmediately:!0}),this.store.c0a=M7(()=>[this.Dq.local.Ava],this.aDb,{fireImmediately:!1})):this.store.XCa=
M7(()=>({selected:this.wi}),({selected:p})=>this.N3a(p),{fireImmediately:!0})};this.Faa=async(m,n)=>{const p=H7()();try{if(n!=null)if(!m)this.Mg.dispose();else if(!this.Mg.Zd){var q=__c.z(n.files.u3a);p.r(await p.s(this.Uh.lYb));if(!this.Uh.WHa){var r=this.Gsa.startSpan("select");p.r(await p.s(bSc(this.Gsa,async()=>{const t=H7()();try{t.r(await t.s(this.Mg.initialize(q)))}finally{t.s()}},r)));r.end()}}}finally{p.s()}};this.N3a=m=>{this.store.o5=this.E9;m||(this.store.o5=!1)};this.XCb=()=>{this.Mg.mf||
this.Mg.vgb({rotation:{x:this.Dq.C.config.ref.rotationPhi,y:this.Dq.C.config.ref.rotationTheta,z:0}})}}};var RRc=class{static G(a){K(a,{scene:N7.ref,o5:N7.ref})}constructor(){this.WCa=(RRc.G(this),void 0);this.o5=!1}};var uSc=class{startSpan(a,b){a=`scene.${a}`;return b?this.lb.startSpan(a,b):this.lb.Qi(a,{Or:{name:`editor.${a}`,performance:{PK:!0}}})}constructor(a){this.lb=a}};var vSc=__c.vc("5eb77351",!1),wSc=navigator!=null&&!!navigator.userAgent.match(/iphone|ipad/gi)||vSc,xSc=class{static G(a){K(a,{Exa:N7.ref})}get WHa(){return this.Exa}get lYb(){this.nJa&&this.nJa();this.h7||(this.h7=eSc(this));return this.h7}get canvas(){this.$R||(this.$R=I7());return this.$R}get lmb(){return this.gS}getImageData(){__c.x(this.gS!=null,"WebGlRenderer is not initialized");return this.gS.readPixels()}constructor(a){this.K=a;this.$R=(xSc.G(this),void 0);this.eea=[];this.Exa=!1;wSc||(this.$R=
I7(),this.h7=eSc(this))}};var ySc=__c.E1()(()=>({o3b(a,b,c){return{data:{C:{scene:{type:"scene",id:a,version:0},config:{snapshot:void 0,rotationPhi:6.02138592,rotationTheta:.08726646}},document:{}},U:{width:b,height:c}}},p3b(a,b,c,d){return{data:{C:{scene:{type:"scene",id:a,version:0},config:{snapshot:b,rotationPhi:6.02138592,rotationTheta:.08726646}},document:{}},U:{width:c,height:d}}}}));var zSc=__c.D1({C:__c.n1({scene:l2.Oj(1,"SceneRef"),config:l2.KWa(2,{snapshot:l2.ZKa(1,"MediaRef"),rotationPhi:l2.p0a(2,{min:0,max:6.284}),rotationTheta:l2.p0a(3,{min:-1.571,max:1.571})})})});var ASc,BSc;ASc=__c.vc("646956e3",!1);BSc=__c.Jw()(({gi:a,GF:b})=>{var c=b.lb;const d=b.$a;b=b.K.Ed("scene_widget_rendering");c=new uSc(c);const e=new xSc(b),f=new lSc(e),g=navigator!=null&&!!navigator.userAgent.match(/iphone|ipad/gi)&&!ASc;b={E9:g};a=$Rc({kB:a.kB,Uh:e,Gsa:c,exports:b,E9:g,$a:d});return{metadata:{type:"scene",name:__c.J("6XoKOg"),MX:h=>h.scene.id},wT:()=>{const h=JRc({gna:f,Uh:e});return new mSc(h)},C:__c.Iw(a),exports:b}});__c.M1={};__c.M1.T_b=mSc;__c.M1.jh=ySc;__c.M1.Qn=BSc;
__c.M1.kh=zSc;
}).call(globalThis, globalThis._5f74ec40302898c5a55451c9fbd04240);}

}])
//# sourceMappingURL=sourcemaps/303f5e839394eb44.js.map