(globalThis["webpackChunk_canva_web"] = globalThis["webpackChunk_canva_web"] || []).push([[70709],{

/***/ 486124:
function(_, __, __webpack_require__) {__webpack_require__.n_x = __webpack_require__.n;const __web_req__ = __webpack_require__;__web_req__(905716);__web_req__(59578);__web_req__(416459);__web_req__(575148);__web_req__(380);__web_req__(42668);__web_req__(448764);__web_req__(79993);__web_req__(820890);__web_req__(719855);__web_req__(85613);__web_req__(384712);__web_req__(231149);__web_req__(996446);__web_req__(446277);__web_req__(94601);__web_req__(850404);__web_req__(273445);__web_req__(293813);globalThis._5f74ec40302898c5a55451c9fbd04240 = globalThis._5f74ec40302898c5a55451c9fbd04240 || {};(function(__c) {var f_=__c.f_;var e_=__c.e_;var c_=__c.c_;var BZ=__c.BZ;var zZ=__c.zZ;var xZ=__c.xZ;var z=__c.z;var A=__c.A;
var OBc=function(a,b){switch(a.type){case "SCATTERPLOT":case "BUBBLEPLOT":return __c.d_(a);case "DOTPLOT":return a.lm===b||__c.d_(a);case "GROUPED_DOTPLOT":return!0;default:throw new A(a);}},C4=function({Ska:a,id:b,type:c}){return a?.format?.kind!==c?(0,__c.Aa)([{kind:3,Y4:[b]}]):(0,__c.ya)()},D4=function({formats:a,type:b}){a=a.filter(({format:c})=>c==null||c.kind!==b);return a.length?(0,__c.Aa)([{kind:3,Y4:a.map(c=>c.EL)}]):(0,__c.ya)()},PBc=function(a){switch(a.kind){case "overwrite":case "transpose":case "chart_type_change":case "create_chart":case "new_data":return!0;
case "paste":case "migrate_chart":case "invisible_chart_type_change":return!1;default:throw new A(a);}},QBc=function({Oe:a,values:b,Nb:c,config:d}){const e=z(c.id);return __c.Iv(d)==="COUNT"?!0:__c.R_(a.y_value_by,e)?z(b.y_value_by.find(({id:f})=>f===e)).values.some(E4):!1},TBc=function({Oe:a,values:b,index:c,config:d}){const e=__c.Iv(d),f=b.x_value_by,g=b.y_value_by,h=b.size_by,k=b.color_by;if(e==="COUNT"){if(d.type==="SCATTERPLOT"||d.type==="BUBBLEPLOT")return k&&a.color_by.ok?E4(k.values[c]):!1;
if(d.type==="DOTPLOT")return{kXa:a}=RBc(d),b=SBc({values:b,rowIndex:c,key:a}),b.length?b.some(l=>E4(l)):!1}if(e&&d.type==="DOTPLOT"){const {kXa:l,pKb:m}=RBc(d);a=SBc({values:b,rowIndex:c,key:m});b=SBc({values:b,rowIndex:c,key:l});return b.length&&a.length?b.some(n=>E4(n))&&a.some(n=>E4(n)):!1}return f==null?!1:a.size_by.ok&&h?E4(f.values[c])&&E4(h.values[c])&&g.some(l=>E4(l.values[c])):E4(f.values[c])&&g.some(l=>E4(l.values[c]))},E4=function(a){return a!=null&&a!==""},UBc=function(a){return a==null?
[]:Array.isArray(a)?a:[a]},RBc=function(a){return{kXa:a.lm==="X"?"x_value_by":"y_value_by",pKb:a.lm==="X"?"y_value_by":"x_value_by"}},SBc=function({values:a,rowIndex:b,key:c}){return UBc(a[c]).map(d=>d.values[b])},WBc=function({markers:a,ae:b,WU:c,XU:d,VU:e}){return F4("g",{children:a.map(({oc:f,key:g,bf:h})=>F4(VBc,{xIb:g,bf:h,oc:f,ae:b,WU:c,XU:d,VU:e},g))})},XBc=function(a,b){var c=__c.d0(b.prev.values());if(!c)return a.position;b=c.kl;c=c.nl;return{x:b.kind==="linear"&&typeof a.pv==="number"?b.get(a.pv):
a.position.x,y:c.kind==="linear"&&typeof a.kx==="number"?c.get(a.kx):a.position.y}},ZBc=function({markers:a,store:b,Y:c,Ha:d,WU:e,XU:f,VU:g}){const h=__c.s0([a]);a=new __c.QY({Kb:{enter:{x:{value:(m,n)=>XBc(m,n).x},y:{value:(m,n)=>XBc(m,n).y},size:{value:()=>0,Th:.2},gb:{value:m=>m.gb},Ya:{value:m=>m.Ya},Ua:{value:m=>m.Ua},opacity:{value:m=>m.opacity}},update:{x:{value:m=>m.position.x},y:{value:m=>m.position.y},size:{value:m=>m.size},gb:{value:m=>m.gb,dc:!0},Ya:{value:m=>m.Ya,dc:!0},Ua:{value:m=>
m.Ua,dc:!0},opacity:{value:m=>m.opacity,end:.6}},exit:{x:{value:m=>m.position.x,end:0},y:{value:m=>m.position.y,end:0},size:{value:m=>m.size,end:0},gb:{value:m=>m.gb,end:0},Ya:{value:m=>m.Ya,end:0},Ua:{value:m=>m.Ua,end:0},opacity:{value:()=>0,end:0}},hg:{x:!0,y:!0,size:!0,gb:!1,Ya:!1,Ua:!1,opacity:!1}},data:a,Y:c,D:b.D,Wd:"DotChartMarkers",mf:h,Bf:500,bg:500,Cf:0,getKey:m=>m.key});const {Wl:k}=d(a),l=G4(()=>b.ae);return YBc(function(){const m=k();return F4(WBc,{markers:m.get(),ae:l,WU:e,XU:f,VU:g})})},
$Bc=function(a,b,c,d,e,f,g){c=c.clone({Lc:()=>[0,e]});d=d.clone({Lc:()=>[f,0]});const h={IR:0,KY:e,Fq:0,wp:f};a=a.zIb.markers(b,c,d,g).filter(k=>__c.j0({point:k.position,bounds:h}));if(!a)return __c.kw;a=a.map(k=>__c.Kn({center:k.position,width:k.size,height:k.size}));a=__c.f0(a,{width:e,height:f});return{...a,top:b.E6?.max!==void 0?0:a.top,bottom:b.E6?.min!==void 0?0:a.bottom,left:b.z6?.min!==void 0?0:a.left,right:b.z6?.max!==void 0?0:a.right}},aCc=function(a){return a.values().every(b=>b.meta.kind===
"number")},bCc=function(a){return a.values().every(b=>b.meta.kind==="string")},cCc=function(a,b){return a==null?"":b==null?a.toString():typeof a==="number"?b(a):a},dCc=function(a,b){if(!b||!a)return __c.HY;a=a.gf(c=>c.data.map(d=>d.Nl)).flat().filter(__c.rb);if(!a.length)return __c.HY;b=__c.Gcc({...b,JHa:!1,data:a});return b[0].value===b[1].value?__c.HY:b},eCc=function(a,b){if(a=a.bindings.config)switch(a.type){case "SCATTERPLOT":case "BUBBLEPLOT":return b==="X"?a.Da.scale:a.za.scale;case "DOTPLOT":return a.lm===
b?void 0:a.Gu.scale;case "GROUPED_DOTPLOT":break;default:throw new A(a);}},fCc=function(a,b){switch(a.bindings.config?.type){case "SCATTERPLOT":case "BUBBLEPLOT":case void 0:return"NUMERIC_LINEAR";case "GROUPED_DOTPLOT":return"CATEGORICAL";case "DOTPLOT":return a.bindings.config?.lm===b?"CATEGORICAL":"NUMERIC_LINEAR";default:throw new A(a.bindings.config);}},gCc=function(a){return a!=null&&a!==""},hCc=function(a){return a!=null&&gCc(a.pv)&&gCc(a.kx)},H4=function(a,b,c){return(b?.gf(({data:d,meta:e})=>
a?.get(0)?.data.map((f,g)=>{const h=d[g];return{...__c.lic(h),color:h.color,ZPb:c[g],pv:f.Nl,kx:h.Nl,q2a:f.LJ??"",r2a:h.LJ??"",KYb:e}})).flat()??[]).filter(hCc)},iCc=function(a){const [b,c]=[0,2],[d,e]=a.zhb;if(d===e)return g=>g?1:0;const f=Math.sqrt(e);return g=>b+Math.sqrt(Math.min(Math.max(g,0),e))/f*(c-b)},jCc=__webpack_require__(296713),kCc=jCc.Fragment,F4=jCc.jsx,I4=jCc.jsxs;var lCc=__webpack_require__(978109),mCc=lCc.memo,nCc=lCc.useMemo;var oCc=__webpack_require__(186901),G4=oCc.EW,pCc=oCc.sH,qCc=oCc.XI;var YBc=__webpack_require__(270531).PA;var rCc=__webpack_require__(245307).Fm;var sCc=__webpack_require__(536618).iB;var tCc=()=>({x:{get:a=>a.type==="DOTPLOT"?a.lm==="X"?a.Av.title:a.Gu.title:a.Da.title,direction:"horizontal",float:"bottom"},y:{get:a=>a.type==="DOTPLOT"?a.lm==="Y"?a.Av.title:a.Gu.title:a.za.title,direction:"vertical",float:"left"}});var J4=__c.eZ.create()(a=>({label_by:a.one(b=>b.xb,(b,c)=>b.xb=c,{required:__c.dZ(!1)})(["string","number","date"]),x_value_by:a.one(b=>b.$r,(b,c)=>b.$r=c,{required:b=>OBc(b,"X"),cr:(b,c)=>{const d=b.$r;c=d!=null?c.get(d):void 0;if(c==null&&!OBc(b,"X"))return(0,__c.ya)();switch(b.type){case "SCATTERPLOT":case "BUBBLEPLOT":return C4({Ska:c,id:d,type:"number"});case "DOTPLOT":return b.lm==="X"?C4({Ska:c,id:d,type:"string"}):C4({Ska:c,id:d,type:"number"});case "GROUPED_DOTPLOT":return C4({Ska:c,id:d,
type:"string"});default:throw new A(b);}}})(["string","number"]),y_value_by:__c.tZ(b=>b.bs,(b,c)=>b.bs=c,{minLength:b=>OBc(b,"Y")?1:0,cr:(b,c)=>{c=__c.sZ(c,b.bs);switch(b.type){case "SCATTERPLOT":case "BUBBLEPLOT":return D4({formats:c,type:"number"});case "DOTPLOT":return b.lm==="Y"?D4({formats:c,type:"string"}):D4({formats:c,type:"number"});case "GROUPED_DOTPLOT":return D4({formats:c,type:"string"});default:throw new A(b);}}})(["string","number"]),size_by:a.one(b=>b.type==="SCATTERPLOT"?void 0:b.mg,
(b,c)=>{b.type!=="SCATTERPLOT"&&(b.mg=c)},{required:__c.dZ(!1)})(["number"]),color_by:a.one(b=>b.Jd,(b,c)=>b.Jd=c,{required:__c.dZ(!1)})(["string"]),filter_by:__c.kZ()}),{init(a,b){const c=a.rb,d=a.data,e=J4.VJ(a);var f=J4.hM(a);const g=e.label_by!=null&&(b.ft||f.label_by.ok);let h=e.x_value_by!=null&&(b.ft||f.x_value_by.ok);f=e.y_value_by.length>0&&(b.ft||f.y_value_by.ok);if(!(b.ft?h&&f:g&&h&&f)){var k=uCc(e,"label_by"),l=uCc(e,"x_value_by"),m=uCc(e,"color_by"),n=e.y_value_by.map(p=>p.id);d.forEach(p=>
{if(p.Ma!=null){var q=__c.aZ(p.Ma);switch(q.kind){case "string":case "date":if(k&&m)break;q=(new Set(p.values.map(r=>r.value))).size;if(!k&&q===p.values.count()&&(p.id==null||p.id!==m)){k=p.id||__c.hZ();break}if(!PBc(b.action))break;!m&&q>=2&&(p.id==null||p.id!==k)&&(m=p.id||__c.hZ());break;case "number":if(p.id&&(l===p.id||n.includes(p.id)))break;q=p.id||__c.hZ();p.id=q;if(h){J4.gg.y_value_by.set(c,[q]);n.push(q);break}J4.gg.x_value_by.set(c,q);h=!0;break;default:throw new A(q);}}});k&&J4.gg.label_by.set(c,
k);m&&J4.gg.color_by.set(c,m);J4.gg.y_value_by.set(c,n);__c.gZ(J4,a)}}}),vCc=__c.fZ(J4,{filter_by:!0}),uCc=(a,b)=>a[b]?a[b].id:void 0;var wCc=__c.PY("g",new Set(["transform"])),xCc=__c.PY("path",new Set(["d","fill","opacity"])),VBc=mCc(({xIb:a,bf:b,oc:{x:c,y:d,size:e,opacity:f,gb:g,Ya:h,Ua:k},ae:l,WU:m,XU:n,VU:p})=>{const q=b.He;b=b.pointerEvents;const r=G4(()=>`translate(${c.get()}, ${d.get()})`),t=G4(()=>__c.dlc[l.get()]({x:0,y:0},e.get())),v=G4(()=>__c.Dr(new __c.yr(g.get(),h.get(),k.get())));return F4(wCc,{transform:r,onMouseEnter:m?w=>m(a,q,{hL:w.currentTarget.getBoundingClientRect(),size:e.get()}):void 0,onMouseLeave:n?n:
void 0,pointerEvents:b,children:p?F4(__c.ZY,{onClick:w=>p(a,q,{hL:w.currentTarget.getBoundingClientRect(),size:e.get()}),children:F4(xCc,{d:t,fill:v,opacity:f})}):F4(xCc,{d:t,fill:v,opacity:f})})});var yCc=class{constructor(a){this.zIb=a}};var zCc=({width:a,height:b})=>I4("svg",{viewBox:"0 0 100 100",fill:"none",filter:"grayscale(1)",opacity:"0.5",width:a,height:b,children:[F4("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M91.5 71V84H91.75V85L91.5 85H90.5H71.5H70.5H50.5H49.5H29.5H28.5H9.5L8.75001 85L8.5 85L8.5 14H9.5V14L28.5 14H29.5H49.5H50.5H70.5H71.5H90.5L91.5 14H91.75V15H91.5V28H91.75V29H91.5V42H91.75V43H91.5V56H91.75V57H91.5V70H91.75V71H91.5ZM90.5 71V84H71.5V71H90.5ZM90.5 70V57H71.5V70H90.5ZM70.5 70V57H50.5V70H70.5ZM50.5 71V84H70.5V71H50.5ZM49.5 71V84H29.5V71H49.5ZM49.5 70V57H29.5L29.5 70H49.5ZM28.5 70L28.5 57H9.5L9.5 70H28.5ZM9.5 71L9.5 84H28.5V71H9.5ZM9.5 56H28.5V43H9.5L9.5 56ZM9.5 42H28.5L28.5 29H9.5L9.5 42ZM9.5 28H28.5V15H9.5L9.5 28ZM29.5 15V28H49.5V15H29.5ZM50.5 15V28H70.5V15H50.5ZM71.5 15V28H90.5V15H71.5ZM90.5 29H71.5V42H90.5V29ZM90.5 43H71.5L71.5 56H90.5V43ZM70.5 56L70.5 43H50.5L50.5 56H70.5ZM49.5 56L49.5 43H29.5V56H49.5ZM29.5 42H49.5V29H29.5L29.5 42ZM50.5 29V42H70.5V29H50.5Z",
fill:"white",fillOpacity:"0.1"}),F4("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M29 33C30.6569 33 32 31.6569 32 30C32 28.3431 30.6569 27 29 27C27.3431 27 26 28.3431 26 30C26 31.6569 27.3431 33 29 33Z",fill:"#6CE4E7"}),F4("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9 62C10.6569 62 12 60.6569 12 59C12 57.3431 10.6569 56 9 56C7.34315 56 6 57.3431 6 59C6 60.6569 7.34315 62 9 62Z",fill:"#6CE4E7"}),F4("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9 71C10.6569 71 12 69.6569 12 68C12 66.3431 10.6569 65 9 65C7.34315 65 6 66.3431 6 68C6 69.6569 7.34315 71 9 71Z",
fill:"#00BBEB"}),F4("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9 86C10.6569 86 12 84.6569 12 83C12 81.3431 10.6569 80 9 80C7.34315 80 6 81.3431 6 83C6 84.6569 7.34315 86 9 86Z",fill:"#519BC2"}),F4("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M29 68C30.6569 68 32 66.6569 32 65C32 63.3431 30.6569 62 29 62C27.3431 62 26 63.3431 26 65C26 66.6569 27.3431 68 29 68Z",fill:"#519BC2"}),F4("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M29 81C30.6569 81 32 79.6569 32 78C32 76.3431 30.6569 75 29 75C27.3431 75 26 76.3431 26 78C26 79.6569 27.3431 81 29 81Z",
fill:"#00BBEB"}),F4("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M50 51C51.6569 51 53 49.6569 53 48C53 46.3431 51.6569 45 50 45C48.3431 45 47 46.3431 47 48C47 49.6569 48.3431 51 50 51Z",fill:"#6CE4E7"}),F4("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M50 61C51.6569 61 53 59.6569 53 58C53 56.3431 51.6569 55 50 55C48.3431 55 47 56.3431 47 58C47 59.6569 48.3431 61 50 61Z",fill:"#00BBEB"}),F4("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M50 39C51.6569 39 53 37.6569 53 36C53 34.3431 51.6569 33 50 33C48.3431 33 47 34.3431 47 36C47 37.6569 48.3431 39 50 39Z",
fill:"#519BC2"}),F4("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M71 31C72.6569 31 74 29.6569 74 28C74 26.3431 72.6569 25 71 25C69.3431 25 68 26.3431 68 28C68 29.6569 69.3431 31 71 31Z",fill:"#6CE4E7"}),F4("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M91 31C92.6569 31 94 29.6569 94 28C94 26.3431 92.6569 25 91 25C89.3431 25 88 26.3431 88 28C88 29.6569 89.3431 31 91 31Z",fill:"#6CE4E7"}),F4("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M91 18C92.6569 18 94 16.6569 94 15C94 13.3431 92.6569 12 91 12C89.3431 12 88 13.3431 88 15C88 16.6569 89.3431 18 91 18Z",
fill:"#00BBEB"}),F4("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M91 45C92.6569 45 94 43.6569 94 42C94 40.3431 92.6569 39 91 39C89.3431 39 88 40.3431 88 42C88 43.6569 89.3431 45 91 45Z",fill:"#519BC2"}),F4("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M71 55C72.6569 55 74 53.6569 74 52C74 50.3431 72.6569 49 71 49C69.3431 49 68 50.3431 68 52C68 53.6569 69.3431 55 71 55Z",fill:"#519BC2"}),F4("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M71 73C72.6569 73 74 71.6569 74 70C74 68.3431 72.6569 67 71 67C69.3431 67 68 68.3431 68 70C68 71.6569 69.3431 73 71 73Z",
fill:"#00BBEB"})]});var ACc=class{static G(a){__c.K(a,{QA:G4,Da:G4,Eq:G4})}get QA(){return this.D.Nd?2/3*this.D.width:Infinity}get Da(){return{Uw:0,scale:this.kl.get(),direction:"horizontal",float:"bottom",Tl:!0}}get Eq(){return{Uw:0,scale:this.nl.get(),direction:"vertical",float:"left",Tl:!0,jw:this.QA,xU:!1}}constructor(a,b,c){this.kl=a;this.nl=b;this.D=c;ACc.G(this)}};var BCc=[1,1],K4={data:()=>[],meta:()=>[],Rb:xZ},CCc=class{static G(a){__c.K(a,{fa:G4,H6a:G4,EF:G4,yhb:G4,tkb:G4,Bt:G4,fo:G4,Sv:G4,i2:G4,If:G4,nM:G4,ria:G4,EZ:G4,Dcb:G4,data:G4,nha:G4,rha:G4,Zva:G4,awa:G4,Bmb:G4,Hmb:G4,Emb:G4,Jmb:G4,zhb:G4,ad:G4,ae:G4,Bm:G4,zO:pCc.ref})}get fa(){if(this.bindings.config)return __c.Iv(this.bindings.config)}get H6a(){return this.Ik.yv?.cols.label_by.get(0)}get EF(){return this.Ik.yv?.cols.color_by.get(0)}get lSb(){return this.fa==null&&this.H6a?.meta.id!==this.EF?.meta.id}get kr(){return this.EF!=
null}get yhb(){return this.Ik.yv?.cols.size_by.get(0)}get tkb(){const a=this.Ik.data;return a?zZ(a).map("x_value_by",{data:({data:b})=>b,meta:({meta:b})=>this.Fmb==="CATEGORICAL"?{...b,kind:"string"}:{...b,kind:"number"},Rb:xZ}).map("y_value_by",{data:({data:b})=>b,meta:({meta:b})=>this.Kmb==="CATEGORICAL"?{...b,kind:"string"}:{...b,kind:"number"},Rb:xZ}).map("size_by",{data:({data:b})=>b,meta:({meta:b})=>({...b,kind:"number"}),Rb:xZ}).build():new __c.GZ({rowMeta:new __c.EZ(K4),x_value_by:new __c.EZ(K4),
y_value_by:new __c.EZ(K4),size_by:new __c.EZ(K4)})}get JT(){return __c.HZ(__c.HZ(__c.HZ(this.tkb,"x_value_by"),"y_value_by"),"size_by")}get IT(){return __c.Pdc(this.JT,this.D.S,"y_value_by")}get Bt(){return __c.TZ(this.IT,a=>QBc({Oe:z(this.bindings.Oe),values:z(this.bindings.values),Nb:a,config:z(this.bindings.config)}),a=>TBc({Oe:z(this.bindings.Oe),values:z(this.bindings.values),index:a,config:z(this.bindings.config)}),"y_value_by")}get fo(){const a=G4(()=>{const c=__c.TY(this.Bt.cols.y_value_by.gf(({meta:d})=>
d.label));return new Map(__c.CZ(this.Bt.cols.y_value_by,(d,e)=>[d,c[e]]))}),b=G4(()=>__c.TY(this.Bt.rows.map(c=>BZ(c.rowMeta,0).label)));return zZ(this.Bt).map("rowMeta",{data:({data:c})=>c.map((d,e)=>({...d,key:b.get()[e]})),meta:c=>c.meta,Rb:xZ}).map("y_value_by",{data:c=>c.data,meta:({meta:c},d)=>({...c,key:z(a.get().get(d))}),Rb:xZ}).build()}get ie(){return this.fo}get Sv(){const a=this.ie.cols.y_value_by.size,b=this.ie.cols.x_value_by.size;return this.ie.rows.length>0&&a>0&&b>0}get i2(){return this.bindings.Nb?.color_by!=
null&&this.EF==null||this.fa!=null&&this.bindings.config?.type==="DOTPLOT"&&this.bindings.config?.lm==="Y"&&this.fo.cols.y_value_by.size>1?!1:this.Sv}get If(){return this.D.Jh&&!this.i2}get nM(){return __c.TZ(this.fo,a=>this.Fe(a),a=>this.ee(a),"y_value_by")}get ria(){return __c.AZ(this.nM).map("rowMeta",{data:a=>{var b={...BZ(a.rowMeta,0)};a:switch(this.bindings.config?.type){case "GROUPED_DOTPLOT":case "BUBBLEPLOT":case "SCATTERPLOT":var c=BZ(a.rowMeta,0).Sp;break a;case "DOTPLOT":c=BZ(a[this.bindings.config?.lm===
"X"?"x_value_by":"y_value_by"],0).HB;a=BZ(a.rowMeta,0).Sp;c=a!=null?`${c}__${a}`:c;break a;case void 0:c="";break a;default:throw new A(this.bindings.config);}return[{...b,jya:c}]},meta:a=>[BZ(a,0).meta],Rb:xZ}).build()}get EZ(){const a=this.ria,b=this.fa,c=this.bindings.config;if(b==null||!c||c.type==="GROUPED_DOTPLOT")return zZ(a).map("x_value_by",{data:d=>d.data.map(e=>({Lt:e.Nl})),meta:d=>d.meta,Rb:xZ}).map("y_value_by",{data:d=>d.data.map(e=>({Lt:e.Nl})),meta:d=>d.meta,Rb:xZ}).map("size_by",
{data:d=>d.data.map(e=>({Lt:e.Nl??0})),meta:d=>d.meta,Rb:xZ}).build();switch(c.type){case "BUBBLEPLOT":case "SCATTERPLOT":return c_(c_(c_(__c.b_(a,d=>BZ(d.rowMeta,0).jya),"x_value_by",{data:d=>e_(d,"x_value_by",b),meta:d=>f_(d,"x_value_by",b,this.fo),Rb:xZ}),"y_value_by",{data:d=>e_(d,"y_value_by",b),meta:d=>f_(d,"y_value_by",b,this.fo),Rb:xZ}),"size_by",{data:d=>e_(d,"size_by",b),meta:d=>f_(d,"size_by",b,this.fo),Rb:xZ}).build();case "DOTPLOT":return c.lm==="X"?zZ(c_(c_(__c.b_(this.ria,d=>BZ(d.rowMeta,
0).jya),"y_value_by",{data:d=>e_(d,"y_value_by",b),meta:d=>f_(d,"y_value_by",b,this.fo),Rb:xZ}),"size_by",{data:d=>e_(d,"size_by",b),meta:d=>f_(d,"size_by",b,this.fo),Rb:xZ}).build()).map("x_value_by",{data:d=>d.data.map(e=>({Lt:e.Nl})),meta:d=>d.meta,Rb:xZ}).build():zZ(c_(c_(__c.b_(this.ria,d=>BZ(d.rowMeta,0).jya),"x_value_by",{data:d=>e_(d,"x_value_by",b),meta:d=>f_(d,"x_value_by",b,this.fo),Rb:xZ}),"size_by",{data:d=>e_(d,"size_by",b),meta:d=>f_(d,"size_by",b,this.fo),Rb:xZ}).build()).map("y_value_by",
{data:d=>d.data.map(e=>({Lt:e.Nl})),meta:d=>d.meta,Rb:xZ}).build();default:throw new A(c);}}get Dcb(){return zZ(__c.AZ(this.EZ).map("rowMeta",{data:a=>{const b=this.EZ.cols.size_by.get(0)?.meta.format,c=a.size_by.get(0)?.Lt;return[{...BZ(a.rowMeta,0),size:c,eFa:cCc(c,b)}]},meta:a=>[BZ(a,0).meta],Rb:xZ}).build()).map("x_value_by",{data:({data:a,meta:b})=>a.map(c=>({Nl:c.Lt,LJ:cCc(c.Lt,b.format)})),meta:a=>a.meta,Rb:xZ}).map("y_value_by",{data:({data:a,meta:b})=>a.map(c=>({Nl:c.Lt,LJ:cCc(c.Lt,b.format)})),
meta:a=>a.meta,Rb:xZ}).build()}get data(){return __c.Qdc(this.Dcb,"y_value_by")}get Zf(){return this.data.rows.length>0&&this.data.cols.x_value_by.size>0&&this.data.cols.y_value_by.size>0}get nha(){if(aCc(this.data.cols.x_value_by))return this.data.cols.x_value_by}get rha(){if(aCc(this.data.cols.y_value_by))return this.data.cols.y_value_by}get Zva(){if(bCc(this.data.cols.x_value_by))return this.data.cols.x_value_by}get awa(){if(bCc(this.data.cols.y_value_by))return this.data.cols.y_value_by}get Bmb(){return[...(new Set(this.Zva?.values().flatMap(a=>
a.data.map(b=>b.Nl))))]}get Hmb(){return[...(new Set(this.awa?.values().flatMap(a=>a.data.map(b=>b.Nl))))]}get Emb(){return dCc(this.nha,this.z6)}get Jmb(){return dCc(this.rha,this.E6)}get zhb(){const a=this.data.cols.rowMeta.gf(b=>b.data.map(c=>c.size)).flat().filter(__c.rb);return __c.Bcc(a)??BCc}get z6(){return eCc(this,"X")}get E6(){return eCc(this,"Y")}get Fmb(){return fCc(this,"X")}get Kmb(){return fCc(this,"Y")}get ad(){return this.bindings.config?.ad??12}get ae(){return this.bindings.config?.ae??
1}get wr(){return this.bindings.config?.wr??1}get Bm(){return this.kr?c_(__c.b_(this.ie,a=>BZ(a.rowMeta,0).Sp),"rowMeta",{data:a=>{a=BZ(a[0].rowMeta,0);return[{color:a.color??"#000000",text:a.Sp,oA:a.Sp,ts:a.key}]},meta:a=>a.gf(b=>b),Rb:xZ}).build().rows.map(a=>BZ(a.rowMeta,0)):this.fo.cols.y_value_by.values().map(({meta:a})=>({text:a.label,oA:a.id,ts:a.key,color:a.color??"#000000"}))}constructor(a,b,c,d){this.D=a;this.tf=b;this.Fe=c;this.ee=d;this.ym=(CCc.G(this),"column");this.bindings=new __c.oZ(this.D,
vCc);this.Ik=new __c.j_({D:this.D,bindings:this.bindings,ZH:["x_value_by","y_value_by","size_by"],uG:e=>__c.g_(e),pG:e=>this.kr?BZ(e.color_by,0).HB??"":"",lG:()=>__c.i_(this.bindings),tG:e=>__c.h_(e)});this.zO=void 0}};var DCc=class{markers(a,b,c,d){return this.Vrb(a,b.snapshot(),c.snapshot(),iCc(a)).map(e=>{const f=__c.a0(d,e.KGb),g=a.zO==null||a.zO===e.key;return{...e,pointerEvents:a.tf?.enabled&&!f?"auto":"none",opacity:(1-a.wr)*(!f&&g?1:.3)}})}EFa(a,{hL:b,size:c}){b=__c.Jn(b);const d=a.D.QJ();if(d!=null){a=a.D.bc;var {x:e,y:f}=d.then(rCc.wrap(__c.tn(-a.left,-a.top))).transformPoint(b.c);return __c.Jn({top:f-c/2,left:e-c/2,width:c,height:c}).transform(__c.tn(a.left,a.top)).pb()}}qB(a,b){a.zO=b}constructor(){this.Vrb=
sCc((a,b,c,d)=>{var e=a.Zf;const f=a.kr,g=a.EF,h=a.yhb,k=a.lSb,l=a.data.cols;if(!a.D.Jh||!e)return[];e=[];e=BZ(l.rowMeta,0).data;const m=l.x_value_by.get(0)?.meta,n=h?.meta;if(b.kind==="linear"&&c.kind==="linear")e=H4(a.nha,a.rha,e).map(p=>({...p,x:b.get(p.pv),y:c.get(p.kx)}));else if(b.kind==="linear"&&c.kind==="point")e=H4(a.nha,a.awa,e).map(p=>({...p,x:b.get(p.pv),y:c.get(p.kx)}));else if(b.kind==="point"&&c.kind==="linear")e=H4(a.Zva,a.rha,e).map(p=>({...p,x:b.get(p.pv),y:c.get(p.kx)}));else if(b.kind===
"point"&&c.kind==="point")e=H4(a.Zva,a.awa,e).map(p=>({...p,x:b.get(p.pv),y:c.get(p.kx)}));else throw Error(`Invalid scale combination: ${b.kind} and ${c.kind}`);return e.map(({x:p,y:q,ZPb:r,KYb:t,...v})=>{const w=[m?.label?`${m.label}: ${v.q2a}`:v.q2a];t?.id!==m?.id&&w.push(t.label?`${t.label}: ${v.r2a}`:v.r2a);n!=null&&r.eFa&&n.id!==m?.id&&n.id!==t?.id&&w.push(n.label?`${n.label}: ${r.eFa}`:r.eFa);let y;y=a.kr?g?.meta.label?`${g.meta.label}: ${r.Sp}`:r.Sp:t.label;return{...v,key:`${r.key}.${t.key}`,
position:new __c.fn(p,q),size:d(r.size??1)*a.ad,KGb:f?r.Sp:t.id,kl:b,nl:c,He:{header:k?r.label:void 0,ETb:y,wIb:v.color,body:w,placement:"top-center"}}})})}};var ECc='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="m6.33 12 5.657-5.657L17.644 12l-5.657 5.657z"/></svg>';var FCc='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M7.5 7.5h9v9h-9z"/></svg>';var GCc='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="m12 4.5 1.416 4.584H18l-3.708 2.832 1.416 4.584L12 13.667 8.292 16.5l1.416-4.584L6 9.084h4.584L12 4.5Z" fill="currentColor"/></svg>';var HCc='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="m12 7 4.5 9h-9L12 7Z" fill="currentColor"/></svg>';var ICc={[1]:__c.Msc,[2]:__c.OU({medium:FCc}),[3]:__c.OU({medium:ECc}),[4]:__c.OU({medium:HCc}),[5]:__c.OU({medium:GCc})},JCc=mCc(({content:{header:a,ETb:b,wIb:c,body:d},ae:e})=>{e=ICc[e];return F4(__c.es,{no:"1u",paddingTop:"0",paddingBottom:"0.5u",children:I4(__c.Bs,{spacing:"0",children:[a!=null?F4(__c.Os,{weight:"bold",size:"medium",tone:"primary",alignment:"center",children:a}):void 0,b!=null?I4(__c.Os,{weight:"bold",size:"small",tone:"primary",alignment:"center",children:[F4(e,{size:"medium",
style:{color:c,marginLeft:`-${__c.KJ["1u"]}`}}),b]}):void 0,a||b?I4(kCc,{children:[F4(__c.tx,{direction:"vertical",size:"0.5u"}),F4(__c.mI,{}),F4(__c.tx,{direction:"vertical",size:"0.5u"})]}):void 0,d.map((f,g)=>F4(__c.Os,{size:"small",tagName:"div",tone:"primary",alignment:"center",children:f},g))]})})});__c.JSb={rvb:({store:a,La:b,Yh:c,Fc:d,Ha:e,Yb:f,tf:g,Ve:h})=>{const k=__c.LY({store:a}),{dF:l,dG:m,Fe:n,ee:p}=__c.SZ({D:a,tF:{kind:"dataFrame",mG:()=>q.ie},Yb:f,Fb:k,La:b,bindings:vCc,er:__c.uZ(J4),bw:QBc,Yp:TBc,Ve:h}),q=new CCc(a,g,n,p),r=new DCc,t=g?new __c.nZ:void 0,v=G4(()=>new yCc(r)),w=G4(()=>{if(q.Fmb==="CATEGORICAL")return new __c.X_({Lc:()=>[0,S.get()],Bc:()=>q.Bmb,di:()=>.5,ve:Sa=>Sa});const bb=new __c.FY({Lc:()=>[0,S.get()],Bc:()=>q.Emb,ve:Sa=>{var db=q,mc=bb.kw();return(db=db.nha?.get(0))?
db.meta.KJ(Sa,mc):Sa.toString()},Kt:Sa=>__c.GY(Sa,q.z6?.spacing.hz??Math.min(__c.t0(a.rb,Sa),6)),Rp:()=>({mode:"TARGET_TICKS",count:q.z6?.spacing.hz??Math.min(__c.t0(a.rb,bb.Bc()),6)})});return bb}),y=G4(()=>{if(q.Kmb==="CATEGORICAL")return new __c.X_({Lc:()=>[Q.get(),0],Bc:()=>q.Hmb,di:()=>.5,ve:Sa=>Sa,inverse:!0});const bb=new __c.FY({Lc:()=>[Q.get(),0],Bc:()=>q.Jmb,ve:Sa=>{var db=q,mc=bb.kw();return(db=db.rha?.get(0))?db.meta.KJ(Sa,mc):Sa.toString()},Kt:Sa=>__c.GY(Sa,q.E6?.spacing.hz??Math.min(__c.t0(a.rb,
Sa),6)),Rp:()=>({mode:"TARGET_TICKS",count:q.E6?.spacing.hz??Math.min(__c.t0(a.rb,bb.Bc()),6)})});return bb}),B=(bb,Sa)=>$Bc(v.get(),q,w.get(),y.get(),bb,Sa,wa);f=new ACc(w,y,a);const C=G4(()=>{const bb=q.z6,Sa=q.E6,db=a.ld,mc=Sa?.max!==void 0?.5:db.top,vd=bb?.min!==void 0?.5:db.left;return{top:-mc,left:-vd,width:vd+a.kF+(bb?.max!==void 0?.5:db.right),height:mc+a.jF+(Sa?.min!==void 0?.5:db.bottom)}}),{M6:D,TY:F,UY:L,VM:M,mha:N,A6:P,cj:S,Mh:Q}=__c.r0({D:a,SZ:f,tf:void 0,Fb:k,La:b,Hx:C,width:G4(()=>
a.Xd),height:G4(()=>a.Yf),KU:B,Js:(bb,Sa)=>W(bb,Sa),jy:(bb,Sa)=>Z(bb,Sa),Fc:d,Ha:e}),{Js:W,jy:Z,x6:aa,C6:ka,iZ:na,jZ:ua,y6:la,D6:Da}=__c.p_({store:a,config:tCc(),La:b,Yh:c,cj:S,Mh:Q,v6:N,B6:P,Fc:d,Ha:e}),da=g&&t?qCc((bb,Sa,db)=>{if(g.enabled){var {placement:mc,...vd}=Sa;Sa=r.EFa(q,db);r.qB(q,bb);Sa&&__c.WY(t,g,{content:F4(JCc,{content:vd,ae:q.ae}),gz:Sa,placement:mc,arrow:!0,key:bb})}}):void 0,sa=g&&t?qCc(()=>{r.qB(q);__c.XY(t,g)}):void 0;c=g&&t?qCc((bb,Sa,db)=>{!__c.qs.wy&&g.enabled&&(g.key===bb&&
g.open?sa?.():da?.(bb,Sa,db))}):void 0;const ja=__c.SY(function(){return{top:a.ld.top,left:a.ld.left}}),qa=YBc(function(){return F4("g",{children:F4(Ha,{})})});f=G4(()=>r.markers(q,w.get(),y.get(),wa));const Ha=ZBc({markers:f,store:q,Y:d,Ha:e,WU:da,XU:sa,VU:c}),{TR:Ia,NA:wa,fw:xb,b6:Ma}=__c.c0({qn:q,Y:d,Ha:e,D:a,La:b,Fb:k,width:G4(()=>a.Xd),Ve:h}),{UB:yb,height:Bb,a6:Tb}=__c.D_({D:a,rows:G4(()=>[{component:F4(l,{}),height:m,key:"filters"},{component:F4(Ia,{}),height:xb,key:"legend"}]),spacing:G4(()=>
.8)}),{size:rc,fM:lc}=__c.E_({D:a,Y:d,Ha:e,size:G4(()=>Bb.get()!==0?.8:0),Jz:!1,Kz:!1}),ec=__c.VY({D:a,uf:b.uf,Cz:zCc,width:G4(()=>a.Xd),height:G4(()=>a.Yf)}),Kd=G4(()=>a.Nd?M.get().top:B(S.get(),Q.get()).top),ud=G4(()=>{const bb=M.get().top,Sa=B(S.get(),Q.get()).top,db=Bb.get()+rc.get();return a.Nd?bb+db:Math.max(bb,db+Sa)});return{Qp:()=>{if(q.If)return __c.kw;const bb=M.get();return{left:bb.left,top:ud.get(),right:bb.right,bottom:bb.bottom}},Yy:{HY:{id:"x_axis_title",content:la.gm,box:aa},LR:{id:"y_axis_title",
content:Da.gm,box:ka}},my:G4(()=>a.HE||a.Nm||la.Vv||Da.Vv),nx:YBc(function(){var bb=Ma();const Sa=lc(),db=Tb(new Map([["legend",bb]]));bb=nCc(()=>__c.SY(function(){return{top:a.ld.top-db.get()-Kd.get()-Sa.get(),left:a.Qw}}),[db,Sa]);return q.If?F4(ja,{children:F4(ec,{})}):I4("g",{children:[F4(bb,{children:F4(yb,{})}),I4(ja,{children:[F4(na,{}),F4(ua,{}),I4(D,{children:[F4(F,{}),F4(qa,{})]}),F4(L,{})]})]})})}}};
}).call(globalThis, globalThis._5f74ec40302898c5a55451c9fbd04240);}

}])
//# sourceMappingURL=sourcemaps/ee14e3ffd5f0e54d.js.map